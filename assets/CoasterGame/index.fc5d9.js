System.register("chunks:///_virtual/Coaster_btnEffect.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./CoasterUtils.ts","./CoasterDef.ts"],(function(e){var t,n,i,o,a,s,f,r,l,c,u,m,d,p,h,_;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized,a=e.createClass},function(e){s=e.cclegacy,f=e._decorator,r=e.Enum,l=e.sp,c=e.sys,u=e.Node,m=e.Component,d=e.CCClass},function(e){p=e.default},function(e){h=e.CoasterUtils},function(e){_=e.eSound}],execute:function(){var v,D,N,A,y,k,g,b,C,E,w;s._RF.push({},"ac388NShuNHn54hOcII/Wdd","Coaster_btnEffect",void 0);var M=f.ccclass,S=f.property,O=f.menu,I=f.executeInEditMode,L=r({"<None>":0});e("default",(v=M("CoasterBtnEffect"),D=O("game/CoasterGame/Coaster_btnEffect"),N=S(l.SkeletonData),A=S(l.SkeletonData),y=S({type:L,visible:function(){return!(null==this._skeletonData)}}),k=S({visible:function(){return!(null==this._skeletonData)}}),v(g=D(g=I((C=t((b=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return t=e.call.apply(e,[this].concat(a))||this,i(t,"_skeletonData",C,o(t)),i(t,"animation",E,o(t)),i(t,"premultipliedAlpha",w,o(t)),t.Node_effect=null,t.switchAnimation=null,t}n(t,e);var s=t.prototype;return s.onLoad=function(){},s._getAnimEnum=function(e){var t=e.getRuntimeData(!0);if(t){for(var n={"<None>":0},i=t.animations,o=0;o<i.length;o++){n[i[o].name]=o+1}return r(n)}return null},s._updateAnimEnum=function(){var e,t,n,i=this._getAnimEnum(this.skeletonData);e=this,t="_animation",n=i||L,d.Attr.setClassAttr(e,t,"type","Enum"),d.Attr.setClassAttr(e,t,"enumList",r.getList(n))},s.onEnable=function(){var e=this;this.Node_effect&&(this.Node_effect.destroyFromParent(),this.Node_effect=null),p.instance.on("onMouseMoveIn"+this.node.name,(function(t){if(!c.isMobile&&(h.instance.playOneShot(_.featureBuyHover),e.animation>0&&e.skeletonData)){if(!e.Node_effect){e.Node_effect=new u,e.node.addChild(e.Node_effect);var n=e.Node_effect.addComponent(l.Skeleton);n.loop=!0,n.premultipliedAlpha=e.premultipliedAlpha}e.scheduleOnce((function(){if(e.Node_effect){var t=e.Node_effect.getComponent(l.Skeleton);if(t.skeletonData=e.skeletonData,e.switchAnimation)t.setAnimation(0,e.switchAnimation,!0);else{var n=e.skeletonData.getRuntimeData(!0).animations[e.animation-1];t.setAnimation(0,n.name,!0)}}}))}}),this),p.instance.on("onMouseMoveOut"+this.node.name,(function(t){c.isMobile||e.Node_effect&&t.type==u.EventType.MOUSE_LEAVE&&(e.Node_effect.destroyFromParent(),e.Node_effect=null)}),this),this.node.on("pauseEffect",(function(){e.Node_effect&&(e.Node_effect.active=!1)}),this),this.node.on("resumeEffect",(function(){if(e.Node_effect){e.Node_effect.active=!0;var t=e.Node_effect.getComponent(l.Skeleton);if(e.switchAnimation)t.setAnimation(0,e.switchAnimation,!0);else{var n=e.skeletonData.getRuntimeData(!0).animations[e.animation-1];t.setAnimation(0,n.name,!0)}}}),this)},s.onDisable=function(){p.instance.off("onMouseMoveIn"+this.node.name),p.instance.off("onMouseMoveOut"+this.node.name),this.node.off("pauseEffect"),this.node.off("resumeEffect")},s.switchAni=function(e){if(void 0===e&&(e=null),this.switchAnimation&&!e&&this.Node_effect){this.Node_effect.active=!0;var t=this.Node_effect.getComponent(l.Skeleton),n=this.skeletonData.getRuntimeData(!0).animations[this.animation-1];t.setAnimation(0,n.name,!0)}this.switchAnimation=e},a(t,[{key:"skeletonData",get:function(){return this._skeletonData},set:function(e){this._skeletonData=e}}]),t}(m)).prototype,"_skeletonData",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),t(b.prototype,"skeletonData",[A],Object.getOwnPropertyDescriptor(b.prototype,"skeletonData"),b.prototype),E=t(b.prototype,"animation",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return L["<None>"]}}),w=t(b.prototype,"premultipliedAlpha",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),g=b))||g)||g)||g));s._RF.pop()}}}));

System.register("chunks:///_virtual/Coaster_buyReward.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewManager.ts","./CoasterCtrl.ts","./CoasterUtils.ts","./CoasterModel.ts","./CoasterDef.ts"],(function(e){var t,n,a,r,o,i,s,c,u,l,f,p,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,a=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,i=e._decorator,s=e.Label,c=e.Component},function(e){u=e.default},function(e){l=e.CoasterCtrl},function(e){f=e.CoasterUtils},function(e){p=e.CoasterModel},function(e){d=e.eSound}],execute:function(){var y,C,b,g,h,_;o._RF.push({},"fbda4D6f49HeIc92IkfI7iS","Coaster_buyReward",void 0);var m=i.ccclass,w=i.property,B=i.menu;i.inspector,e("default",(y=m("CoasterBuyReward"),C=B("game/CoasterGame/Coaster_buyReward"),b=w(s),y(g=C((_=t((h=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return t=e.call.apply(e,[this].concat(o))||this,a(t,"Label_gold",_,r(t)),t}n(t,e);var o=t.prototype;return o.onLoad=function(){var e=75*p.instance.curBet;this.Label_gold.string=""+f.instance.numberFormat1(e,2)},o.onBtnClick=function(e){switch(e.target.name){case"Button_cancel":f.instance.playOneShot(d.featureBuyCancel);break;case"Button_ok":f.instance.playOneShot(d.featureBuyStart),l.instance.reqBet(!0)}u.instance.closePopView(this.node)},t}(c)).prototype,"Label_gold",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=h))||g)||g));o._RF.pop()}}}));

System.register("chunks:///_virtual/Coaster_helpTip.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CoasterModel.ts","./CoasterDef.ts","./LocalizedImage.ts"],(function(t){var e,i,o,n,s,r,p,a,d,h,c,l,u,S,_;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){s=t.cclegacy,r=t._decorator,p=t.Sprite,a=t.Tween,d=t.tween,h=t.v3,c=t.UITransform,l=t.Component},function(t){u=t.CoasterModel},function(t){S=t.eRunStatus},function(t){_=t.LocalizedImage}],execute:function(){var y,f,g,T,m,C;s._RF.push({},"b869frdGv5L0rP33dW1UMBR","Coaster_helpTip",void 0);var w=r.ccclass,v=r.property,I=r.menu;r.inspector,t("default",(y=w("CoasterHelpTip"),f=I("game/CoasterGame/Coaster_helpTip"),g=v(p),y(T=f((C=e((m=function(t){function e(){for(var e,i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return e=t.call.apply(t,[this].concat(s))||this,o(e,"Sprite_tip",C,n(e)),e.curIndex=0,e.runType=1,e}i(e,t);var s=e.prototype;return s.start=function(){},s.onEnable=function(){this.doShow()},s.onDisable=function(){this.Sprite_tip.node.setPosition(0,this.Sprite_tip.node.position.y),a.stopAllByTarget(this.Sprite_tip.node)},s.doShow=function(t){var e=this;switch(void 0===t&&(t=4),this.runType=t,this.runType){case 1:this.Sprite_tip.node.setPosition(0,this.Sprite_tip.node.position.y),a.stopAllByTarget(this.Sprite_tip.node),d(this.Sprite_tip.node).delay(.25).to(.25,{scale:h(1.2,1.2,1.2)}).to(.125,{scale:h(1.1,1.1,1.1)}).to(.125,{scale:h(1.2,1.2,1.2)}).to(.25,{scale:h(1,1,1)}).start(),this.curIndex=6;break;case 2:this.Sprite_tip.node.setPosition(0,this.Sprite_tip.node.position.y),a.stopAllByTarget(this.Sprite_tip.node),this.curIndex=7;break;case 3:this.Sprite_tip.node.setPosition(0,this.Sprite_tip.node.position.y),a.stopAllByTarget(this.Sprite_tip.node),this.curIndex=0;break;default:u.instance.freeStatus!=S.NONE||u.instance.totalFreeTimes>0?(a.stopAllByTarget(this.Sprite_tip.node),this.curIndex=5):this.curIndex=(this.curIndex+1)%5}if(this.Sprite_tip.getComponent(_).key="info_"+(1+this.curIndex),this.Sprite_tip.node.getComponent(c).width>this.node.getComponent(c).width/2){var i=(this.Sprite_tip.node.getComponent(c).width-this.node.getComponent(c).width)/2+30;this.Sprite_tip.node.setPosition(i,this.Sprite_tip.node.position.y);var o=i-this.Sprite_tip.node.getComponent(c).width-60;d(this.Sprite_tip.node).delay(.8).to(this.Sprite_tip.node.getComponent(c).width/135,{position:h(o,this.Sprite_tip.node.position.y)}).call((function(){e.doShow(e.runType)})).start()}else this.Sprite_tip.node.setPosition(0,this.Sprite_tip.node.position.y),d(this.Sprite_tip.node).delay(1).call((function(){e.doShow(e.runType)})).start()},e}(l)).prototype,"Sprite_tip",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=m))||T)||T));s._RF.pop()}}}));

System.register("chunks:///_virtual/Coaster_history.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CoasterCtrl.ts","./CoasterDef.ts","./GameDef.ts","./Common.ts"],(function(t){var e,i,r,a,n,o,s,c,u,l,_,g;return{setters:[function(t){e=t.inheritsLoose,i=t.applyDecoratedDescriptor,r=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){n=t.cclegacy,o=t._decorator,s=t.Label,c=t.Node},function(t){u=t.CoasterCtrl},function(t){l=t.eProto},function(t){_=t.GameDef},function(t){g=t.Common}],execute:function(){var h,p,f,P,y,b,d,m,v,B,w,C;n._RF.push({},"96accv4p/JJzrSt8x8zje6g","Coaster_history",void 0);var z=o.ccclass,L=o.property,x=o.menu;o.inspector,t("default",(h=z("CoasterHistory"),p=x("game/CoasterGame/Coaster_history"),f=L(gts.List),P=L(s),y=L(c),b=L(c),h(d=p((m=function(t){function i(){for(var e,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return e=t.call.apply(t,[this].concat(n))||this,r(e,"scrollView_content",v,a(e)),r(e,"Label_curPage",B,a(e)),r(e,"Button_last",w,a(e)),r(e,"Button_next",C,a(e)),e._curPage=0,e._totalPage=0,e._lastPage=1,e._pageSize=13,e}e(i,t);var n=i.prototype;return n.onLoad=function(){t.prototype.onLoad.call(this,u.instance),u.instance.reqHistory(),g.showWait(),this.scheduleOnce(g.closeWait,3)},n.onBefore=function(){this._lastPage=this._curPage,this._curPage--,this._curPage<0&&(this._curPage=0);var t=this._curPage*this._pageSize;u.instance.reqHistory(t)},n.onNext=function(){this._lastPage=this._curPage,this._curPage++;var t=this._curPage*this._pageSize;u.instance.reqHistory(t)},n.updateView=function(t,e){switch(t){case l.HD_History:if(g.closeWait(),!e||!e.BetRecord||0==e.BetRecord.length)return this._curPage=this._lastPage,void(this.Button_next.active=!1);this.Button_last.active=this._curPage>0,this.Button_next.active=e.NextPage,this.Label_curPage.string="Trang:"+(this._curPage+1),this.scrollView_content.setData(e.BetRecord)}},i}(_.BaseView),v=i(m.prototype,"scrollView_content",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=i(m.prototype,"Label_curPage",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=i(m.prototype,"Button_last",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=i(m.prototype,"Button_next",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=m))||d)||d));n._RF.pop()}}}));

System.register("chunks:///_virtual/Coaster_historyItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AutoChangeParent.ts","./CoasterUtils.ts","./CoasterDef.ts","./Common.ts","./DataManager.ts"],(function(e){var t,n,i,a,o,r,l,s,u,c,b,m,f,p,_,g,d,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized,o=e.createClass},function(e){r=e.cclegacy,l=e._decorator,s=e.Node,u=e.Label,c=e.UIOpacity,b=e.color,m=e.Component},function(e){f=e.default},function(e){p=e.CoasterUtils},function(e){_=e.Constant},function(e){g=e.Common},function(e){d=e.default,h=e.UserKey}],execute:function(){var y,L,C,I,v,N,w,U,z,F,R,D,B,M,O,S,A,G,H,P,Y,k;r._RF.push({},"38676/yYn5M84htNMbfwg2B","Coaster_historyItem",void 0);var x=l.ccclass,E=l.property,K=l.menu;l.inspector,e("default",(y=x("CoasterHistoryItem"),L=K("game/CoasterGame/Coaster_historyItem"),C=E(s),I=E(s),v=E(s),N=E(u),w=E(u),U=E(u),z=E(u),F=E(u),R=E(u),y(D=L((M=t((B=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return t=e.call.apply(e,[this].concat(o))||this,i(t,"content_label",M,a(t)),i(t,"Node_label",O,a(t)),i(t,"Sprite_bg",S,a(t)),i(t,"Label_gameNo",A,a(t)),i(t,"Label_date",G,a(t)),i(t,"Label_time",H,a(t)),i(t,"Label_win",P,a(t)),i(t,"Label_bet",Y,a(t)),i(t,"Label_gold",k,a(t)),t._gtItem=null,t}n(t,e);var r=t.prototype;return r.onLoad=function(){},r.onEnable=function(){this.node.active=!0,this.Node_label.active=!0},r.onDisable=function(){},r.start=function(){var e=this;f.Bind(this.Node_label,this.content_label,!0).OnUpdateNotify((function(t){e.Node_label.getComponent(c).opacity=e.node.getComponent(c).opacity,e.Node_label.active=e.node.active,e.Node_label.scale=e.node.scale}),this),this.item&&(this.item.OnDataChangedNotify((function(){e.UpdateUI()}),this),this.item.OnHideNotify((function(){e.node.active=!1,e.Node_label.active=!1}),this),this.UpdateUI())},r.UpdateUI=function(){var e=this.item.data;this.Sprite_bg.active=this.item.itemIndex%2!=0,this.Label_gameNo.string=g.setGameNo(e.GameNo);var t=g.getRecordResult(e);this.Label_gold.string=t;var n=d.instance.getUserDataForKey(h.CURRENCY_SYMBOL),i=g.getTimeFormat(e.CreateAt);this.Label_time.string=i.time,this.Label_date.string=i.date,this.Label_bet.string=n+p.instance.numberFormat(e.BetAmount/_.moneyRatio,2);var a="";if(e.Income>0){g.numFormat(e.Income/_.moneyRatio);a="+"+n+p.instance.numberFormatFloatD(e.Income/_.moneyRatio,2),this.Label_win.color=b(255,0,0,255)}else if(e.Income<=0){g.numFormat(e.Income/_.moneyRatio);a=""+n+p.instance.numberFormatFloatD(e.Income/_.moneyRatio,2),this.Label_win.color=b(104,245,1,255)}this.Label_win.string=a},o(t,[{key:"item",get:function(){return this._gtItem||(this._gtItem=this.getComponent(gts.ListItem)),this._gtItem}}]),t}(m)).prototype,"content_label",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(B.prototype,"Node_label",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=t(B.prototype,"Sprite_bg",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(B.prototype,"Label_gameNo",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(B.prototype,"Label_date",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(B.prototype,"Label_time",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(B.prototype,"Label_win",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=t(B.prototype,"Label_bet",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(B.prototype,"Label_gold",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=B))||D)||D));r._RF.pop()}}}));

System.register("chunks:///_virtual/Coaster_rank.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CoasterCtrl.ts","./CoasterDef.ts","./GameDef.ts","./Common.ts"],(function(e){var t,n,r,a,o,i,s,c,l,u,f;return{setters:[function(e){t=e.inheritsLoose,n=e.applyDecoratedDescriptor,r=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){o=e.cclegacy,i=e._decorator,s=e.Label},function(e){c=e.CoasterCtrl},function(e){l=e.eProto},function(e){u=e.GameDef},function(e){f=e.Common}],execute:function(){var p,_,h,g,m,C,y,L;o._RF.push({},"c8f36hOmS5I5JLYU1H+eTS9","Coaster_rank",void 0);var b=i.ccclass,d=i.property,w=i.menu;i.inspector,e("default",(p=b("CoasterRank"),_=w("game/CoasterGame/Coaster_rank"),h=d(gts.List),g=d(s),p(m=_((C=function(e){function n(){for(var t,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return t=e.call.apply(e,[this].concat(o))||this,r(t,"scrollView_content",y,a(t)),r(t,"Label_curPage",L,a(t)),t._curPage=0,t._totalPage=0,t._lastPage=1,t}t(n,e);var o=n.prototype;return o.onLoad=function(){e.prototype.onLoad.call(this,c.instance),f.showWait(),this.scheduleOnce(f.closeWait,3),c.instance.reqRank()},o.updateView=function(e,t){switch(e){case l.HD_Rank:if(f.closeWait(),!t.RankList)return;this.scrollView_content.setData(t.RankList)}},n}(u.BaseView),y=n(C.prototype,"scrollView_content",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=n(C.prototype,"Label_curPage",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=C))||m)||m));o._RF.pop()}}}));

System.register("chunks:///_virtual/Coaster_rankItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AutoChangeParent.ts","./CoasterUtils.ts","./CoasterDef.ts","./Common.ts","./DataManager.ts"],(function(e){var t,i,n,a,r,o,l,s,c,u,p,b,m,f,_,d,h,g,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized,r=e.createClass},function(e){o=e.cclegacy,l=e._decorator,s=e.Node,c=e.Sprite,u=e.Label,p=e.SpriteFrame,b=e.UIOpacity,m=e.Component},function(e){f=e.default},function(e){_=e.CoasterUtils},function(e){d=e.Constant},function(e){h=e.Common},function(e){g=e.default,y=e.UserKey}],execute:function(){var v,k,C,L,N,I,U,S,w,z,F,D,R,T,O,P,x,B,M,Y;o._RF.push({},"ab47dP2P3RCubY5dpLU0UtL","Coaster_rankItem",void 0);var A=l.ccclass,E=l.property,H=l.menu;l.inspector,e("default",(v=A("CoasterRankItem"),k=H("game/CoasterGame/Coaster_rankItem"),C=E(s),L=E(s),N=E(s),I=E(c),U=E(u),S=E(u),w=E(u),z=E(p),v(F=k((R=t((D=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,n(t,"content_label",R,a(t)),n(t,"Node_label",T,a(t)),n(t,"Sprite_bg",O,a(t)),n(t,"Sprite_rankTag",P,a(t)),n(t,"Label_rank",x,a(t)),n(t,"Label_nickName",B,a(t)),n(t,"Label_win",M,a(t)),n(t,"spriteFrame_rank",Y,a(t)),t._gtItem=null,t}i(t,e);var o=t.prototype;return o.onLoad=function(){},o.onEnable=function(){this.node.active=!0,this.Node_label.active=!0},o.onDisable=function(){},o.start=function(){var e=this;f.Bind(this.Node_label,this.content_label,!0).OnUpdateNotify((function(t){e.Node_label.getComponent(b).opacity=e.node.getComponent(b).opacity,e.Node_label.active=e.node.active,e.Node_label.scale=e.node.scale}),this),this.item&&(this.item.OnDataChangedNotify((function(){e.UpdateUI()}),this),this.item.OnHideNotify((function(){e.node.active=!1,e.Node_label.active=!1}),this),this.UpdateUI())},o.UpdateUI=function(){var e=this.item.data;if(!e||void 0===e)return this.node.active=!1,void(this.Node_label.active=!1);var t=this.item.itemIndex;t<3?(this.Sprite_rankTag.node.active=!0,this.Label_rank.node.active=!1,this.Sprite_rankTag.spriteFrame=this.spriteFrame_rank[t]):(this.Sprite_rankTag.node.active=!1,this.Label_rank.node.active=!0,this.Label_rank.string=""+(t+1)),this.Sprite_bg.active=this.item.itemIndex%2!=0,this.Label_nickName.string=""+e.NickName;var i=h.numFormat(e.Score/d.moneyRatio),n=_.instance.numberFormatD(e.Score/d.moneyRatio,2),a=g.instance.getUserDataForKey(y.CURRENCY_SYMBOL);this.Label_win.string=""+a+i+n},r(t,[{key:"item",get:function(){return this._gtItem||(this._gtItem=this.getComponent(gts.ListItem)),this._gtItem}}]),t}(m)).prototype,"content_label",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(D.prototype,"Node_label",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(D.prototype,"Sprite_bg",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(D.prototype,"Sprite_rankTag",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(D.prototype,"Label_rank",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(D.prototype,"Label_nickName",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(D.prototype,"Label_win",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=t(D.prototype,"spriteFrame_rank",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=D))||F)||F));o._RF.pop()}}}));

System.register("chunks:///_virtual/Coaster_ScrollView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CoasterDef.ts","./CoasterUtils.ts","./EventManager.ts"],(function(e){var t,i,n,o,r,c,l,a,s,u,h,_,d,w,V,p,m,x,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,c=e._decorator,l=e.Node,a=e.ScrollView,s=e.instantiate,u=e.Label,h=e.Component,_=e.UITransform,d=e.v3,w=e.UIOpacity},function(e){V=e.eAutoRateType,p=e.cBaseScore,m=e.eEvent},function(e){x=e.CoasterUtils},function(e){f=e.default}],execute:function(){var S,I,g,y,v,b,C,T,M,L;r._RF.push({},"f460884C+JJLrw006ZTIGjx","Coaster_ScrollView",void 0);var P=c.ccclass,D=c.property,N=c.menu;c.inspector,e("default",(S=P("CoasterScrollView"),I=N("game/CoasterGame/Coaster_ScrollView"),g=D({type:V}),y=D(),v=D(l),S(b=I((T=t((C=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),c=0;c<i;c++)r[c]=arguments[c];return t=e.call.apply(e,[this].concat(r))||this,n(t,"type",T,o(t)),n(t,"itemCounts",M,o(t)),n(t,"item",L,o(t)),t._ScrollViewView=null,t._curIndex=0,t._maxIndex=0,t.itemList=void 0,t._hTouch=null,t._isLongTouch=!1,t.isSetNew=!1,t}i(t,e);var r=t.prototype;return r.onDisable=function(){this._hTouch&&clearTimeout(this._hTouch)},r.init=function(e,t){var i=this;this._ScrollViewView=this.node.getComponent(a),this.itemList=e,this._maxIndex=e.length-1,this._curIndex=t;for(var n=0;n<e.length;n++){var o=this._ScrollViewView.content.children[n];o||(o=s(this.item),this._ScrollViewView.content.addChild(o)),o.active=!0,o.name="item_"+n,o.getComponent(u).string=this.getDefaultValue(n)}this._ScrollViewView.node.on("touch-up",(function(){i.onScrollTouchUp()}),this),this._ScrollViewView.node.on("touchcancel",(function(){i.onScrollTouchUp()}),this);var r=function(){for(var e=0;e<i._ScrollViewView.content.children.length;e++){var t=i._ScrollViewView.content.children[e],n=t.getComponent(_).convertToWorldSpaceAR(d(0,0));n=i._ScrollViewView.node.getComponent(_).convertToNodeSpaceAR(n);var o=i._ScrollViewView.node.getComponent(_).height/2;Math.abs(n.y)<o?(t.getComponent(w).opacity=255*(1-Math.abs(n.y)/o),Math.abs(n.y)<t.getComponent(_).height?t.scale=d(1+.5*(1-Math.abs(n.y)/t.getComponent(_).height),1+.5*(1-Math.abs(n.y)/t.getComponent(_).height),1):t.scale=d(1,1,1)):(t.getComponent(w).opacity=0,t.scale=d(1,1,1)),t.scale.x>1.25&&i._curIndex!=e&&(i._curIndex=e,i.isSetNew||f.instance.emit(m.onSetBase,i.type,i._curIndex))}};this._ScrollViewView.node.on("scroll-ended",(function(){r(),i.isSetNew=!1}),this),this._ScrollViewView.node.on("scrolling",r,this),this._ScrollViewView.scrollToPercentVertical((this._maxIndex-this._curIndex)/this._maxIndex,.2)},r.start=function(){var e=this;setTimeout((function(){e._ScrollViewView&&e._ScrollViewView.scrollToPercentVertical((e._maxIndex-e._curIndex)/e._maxIndex,1e-4)}),300)},r.onScrollTouchUp=function(e){var t=this;void 0===e&&(e=.5),this.scheduleOnce((function(){var e=t._ScrollViewView.getScrollOffset();t._curIndex=Math.round(Math.abs(e.y)/76),t._ScrollViewView.stopAutoScroll(),t._curIndex=t._curIndex<0?0:t._curIndex>t._maxIndex?t._maxIndex:t._curIndex,t._ScrollViewView.scrollToPercentVertical((t._maxIndex-t._curIndex)/t._maxIndex,.1)}),e)},r.setNewPos=function(e){this._curIndex!=e&&(this._curIndex=e,this.isSetNew=!0,this._ScrollViewView.scrollToPercentVertical((this._maxIndex-this._curIndex)/this._maxIndex,.1))},r.doReset=function(){this._curIndex=0,this._ScrollViewView.scrollToPercentVertical((this._maxIndex-this._curIndex)/this._maxIndex,1e-4)},r.getDefaultValue=function(e){return this.type==V.baseScore||this.type==V.baseBet?x.instance.moneyFormat(this.itemList[e]):this.itemList[e].toString()},r.getValue=function(e){switch(this.type){case V.baseScore:return p[e];case V.baseRate:return e+1;case V.basePay:return 20*(e+1);case V.baseBet:var t=Math.floor(e/10),i=e%10;return p[t]*(i+1)*20}},t}(h)).prototype,"type",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return V.baseScore}}),M=t(C.prototype,"itemCounts",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),L=t(C.prototype,"item",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=C))||b)||b));r._RF.pop()}}}));

System.register("chunks:///_virtual/Coaster_setAuto.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CoasterModel.ts","./CoasterDef.ts","./ViewManager.ts","./EventManager.ts","./Common.ts"],(function(e){var t,o,n,i,s,a,r,l,c,u,p,d,f,m,h,b,C;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){s=e.cclegacy,a=e._decorator,r=e.Node,l=e.Button,c=e.Sprite,u=e.color,p=e.Label,d=e.Component},function(e){f=e.CoasterModel},function(e){m=e.eEvent},function(e){h=e.default},function(e){b=e.default},function(e){C=e.Common}],execute:function(){var g,_,y,B,N,v,k,A;s._RF.push({},"b1be6bGOitK35vWlp/O5H3P","Coaster_setAuto",void 0);var w=a.ccclass,L=a.property,D=a.menu;a.inspector,e("default",(g=w("CoasterSetAuto"),_=D("game/CoasterGame/Coaster_setAuto"),y=L(r),B=L(l),g(N=_((k=t((v=function(e){function t(){for(var t,o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return(t=e.call.apply(e,[this].concat(s))||this).selNode=null,n(t,"contentRoot",k,i(t)),n(t,"Button_ok",A,i(t)),t}o(t,e);var s=t.prototype;return s.onLoad=function(){C.setButtonGray(this.Button_ok)},s.onEnable=function(){},s.onDisable=function(){},s.onBtnClick=function(e){switch(e.target.name){case"close":b.instance.emit(m.onSetAuto,0),h.instance.closePopView();break;case"Button_ok":if(this.selNode){f.instance.selAutoIndex=parseInt(this.selNode.name.replace("Node_item_",""));var t=[10,30,50,80,1e3][f.instance.selAutoIndex];b.instance.emit(m.onSetAuto,t)}h.instance.closePopView();break;default:this.Button_ok.interactable=!0,this.selNode&&(this.selNode.getComponent(c).color=u(255,255,255,255),this.selNode.getChildByName("Label_times").getComponent(p).color=u(152,152,152,255)),this.selNode=e.target,this.selNode.getComponent(c).color=u(125,125,125,255),this.selNode.getChildByName("Label_times").getComponent(p).color=u(255,152,0,255),C.setButtonGray(this.Button_ok,!1)}},t}(d)).prototype,"contentRoot",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(v.prototype,"Button_ok",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=v))||N)||N));s._RF.pop()}}}));

System.register("chunks:///_virtual/Coaster_setBase.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CoasterModel.ts","./CoasterDef.ts","./ViewManager.ts","./EventManager.ts","./CoasterUtils.ts","./Coaster_ScrollView.ts","./Common.ts"],(function(e){var t,n,s,a,i,r,o,c,l,u,_,b,h,d,p,w,f,m;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,s=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){i=e.cclegacy,r=e._decorator,o=e.Label,c=e.Node,l=e.tween,u=e.Component},function(e){_=e.CoasterModel},function(e){b=e.eEvent,h=e.eAutoRateType},function(e){d=e.default},function(e){p=e.default},function(e){w=e.CoasterUtils},function(e){f=e.default},function(e){m=e.Common}],execute:function(){var I,x,B,g,S,y,L,C,R,V,P,W,v,T,z,F,N,M;i._RF.push({},"812781lETpMbKuPK1ely4NZ","Coaster_setBase",void 0);var k=r.ccclass,D=r.property,E=r.menu;r.inspector,e("default",(I=k("CoasterSetBase"),x=E("game/CoasterGame/Coaster_setBase"),B=D(o),g=D(o),S=D(o),y=D(c),L=D(c),C=D(c),R=D(c),I(V=x((W=t((P=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return t=e.call.apply(e,[this].concat(i))||this,s(t,"Label_bet",W,a(t)),s(t,"Label_gold",v,a(t)),s(t,"Label_win",T,a(t)),s(t,"scrollView_baseScore",z,a(t)),s(t,"scrollView_baseRate",F,a(t)),s(t,"scrollView_basePay",N,a(t)),s(t,"scrollView_baseBet",M,a(t)),t._curIndex_baseScore=0,t._curIndex_baseRate=0,t._curIndex_baseBet=0,t}n(t,e);var i=t.prototype;return i.onLoad=function(){var e=m.numFormat(_.instance.curBalance);this.Label_gold.string=e,_.instance.curTotalWin>0?this.Label_win.string=w.instance.moneyFormat(_.instance.curTotalWin):this.Label_win.string=w.instance.moneyFormat(0),this.Label_bet.string=w.instance.moneyFormat(_.instance.curBet);var t=_.instance.baseBetInfoList[_.instance._curIndex_baseBet];this._curIndex_baseScore=t.baseScoreIndex,this._curIndex_baseRate=t.baseRateIndex,this._curIndex_baseBet=_.instance._curIndex_baseBet,this.scrollView_baseScore.getComponent(f).init(_.instance.baseScoreList,this._curIndex_baseScore),this.scrollView_baseRate.getComponent(f).init(_.instance.baseRateList,this._curIndex_baseRate),this.scrollView_basePay.getComponent(f).init(_.instance.basePayList,0),this.scrollView_baseBet.getComponent(f).init(_.instance.baseBetList,this._curIndex_baseBet)},i.onEnable=function(){p.instance.on(b.onSetBase,this.onSetBase,this),p.instance.on(b.updateWin,this.updateWin,this)},i.onDisable=function(){p.instance.off(b.onSetBase,this.onSetBase,this),p.instance.off(b.updateWin,this.updateWin,this)},i.updateWin=function(e){var t=this;if(0!=e){var n=_.instance.curTotalWin+e,s=e/10;l(this.Label_win.node).repeat(11,l(this.Label_win.node).delay(.05).call((function(){_.instance.curTotalWin+=s,_.instance.curTotalWin>n&&(_.instance.curTotalWin=n),t.Label_win.string=w.instance.moneyFormat(_.instance.curTotalWin)}))).start()}else _.instance.curTotalWin>0?this.Label_win.string=w.instance.moneyFormat(_.instance.curTotalWin):this.Label_win.string=w.instance.moneyFormat(0)},i.onSetBase=function(e,t){switch(e){case h.baseScore:this._curIndex_baseScore=t,this._curIndex_baseBet=10*this._curIndex_baseScore+this._curIndex_baseRate,this.scrollView_baseBet.getComponent(f).setNewPos(this._curIndex_baseBet);break;case h.baseRate:this._curIndex_baseRate=t,this._curIndex_baseBet=10*this._curIndex_baseScore+this._curIndex_baseRate,this.scrollView_baseBet.getComponent(f).setNewPos(this._curIndex_baseBet);break;case h.baseBet:this._curIndex_baseBet=t,this._curIndex_baseRate=t%10,this._curIndex_baseScore=Math.floor(t/10),this.scrollView_baseScore.getComponent(f).setNewPos(this._curIndex_baseScore),this.scrollView_baseRate.getComponent(f).setNewPos(this._curIndex_baseRate)}},i.onBtnClick=function(e){switch(e.target.name){case"Button_reset":this._curIndex_baseBet=_.instance.baseBetList.length-1,this._curIndex_baseRate=_.instance.baseRateList.length-1,this._curIndex_baseScore=_.instance.baseScoreList.length-1,this.scrollView_baseScore.getComponent(f).setNewPos(this._curIndex_baseScore),this.scrollView_baseRate.getComponent(f).setNewPos(this._curIndex_baseRate),this.scrollView_baseBet.getComponent(f).setNewPos(this._curIndex_baseBet);break;case"Button_ok":_.instance._curIndex_baseScore=this._curIndex_baseScore,_.instance._curIndex_baseRate=this._curIndex_baseRate,_.instance._curIndex_baseBet=this._curIndex_baseBet,p.instance.emit(b.updateBaseBet),d.instance.closePopView()}},t}(u)).prototype,"Label_bet",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=t(P.prototype,"Label_gold",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(P.prototype,"Label_win",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(P.prototype,"scrollView_baseScore",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(P.prototype,"scrollView_baseRate",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(P.prototype,"scrollView_basePay",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(P.prototype,"scrollView_baseBet",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=P))||V)||V));i._RF.pop()}}}));

System.register("chunks:///_virtual/Coaster_shake.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"a5334fpnOFKv7vjvhTneOCa","Coaster_shake",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/Coaster_symbol.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CoasterModel.ts","./CoasterDef.ts","./EventManager.ts","./CoasterUtils.ts","./Coaster_symbolItem.ts"],(function(t){var e,n,o,i,s,r,a,l,u,c,m,h,f,p,d,b,y,g,L,v,I,S,x,C,_,N,T;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized,s=t.createForOfIteratorHelperLoose,r=t.asyncToGenerator,a=t.regeneratorRuntime},function(t){l=t.cclegacy,u=t._decorator,c=t.Prefab,m=t.instantiate,h=t.UITransform,f=t.tween,p=t.v3,d=t.Component,b=t.UIOpacity},function(t){y=t.CoasterModel},function(t){g=t.eRunStatus,L=t.eSymbol,v=t.cArrPos_0,I=t.cArrPos_1,S=t.eConstDef,x=t.eSound,C=t.eEvent},function(t){_=t.default},function(t){N=t.CoasterUtils},function(t){T=t.default}],execute:function(){var P,k,O,A,H,w,D,R,W,z,E;l._RF.push({},"f7a96sCi9ROjLaOsEhztO8B","Coaster_symbol",void 0);var M=u.ccclass,F=u.property,J=u.menu;u.inspector,t("default",(P=M("CoasterSymbol"),k=J("game/CoasterGame/Coaster_symbol"),O=F(c),A=F(c),P(H=k(((E=function(t){function e(){for(var e,n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return e=t.call.apply(t,[this].concat(s))||this,o(e,"isHorizontal",D,i(e)),o(e,"maxIndex",R,i(e)),o(e,"Node_itemTemp",W,i(e)),o(e,"Node_itemTempH",z,i(e)),e.symbolList=[],e._speed=0,e._curLength=0,e._iCol=0,e._resultInfoList=[],e.itemTag=0,e._runStatus=g.NONE,e}n(e,t);var l=e.prototype;return l.onLoad=function(){this._iCol=parseInt(this.node.name.replace("Node_symbol_",""))-1},l.start=function(){},l.onEnable=function(){},l.onDisable=function(){},l.getResult=function(t){return JSON.parse(JSON.stringify(t.openNum[this._iCol]))},l.addNewItem=function(t,e,n){void 0===n&&(n=-1);var o=this.maxIndex-this._curLength;if(o<=0)return null;if(!t){var i=this.isHorizontal?1:o>=3?Math.floor(3*Math.random())+1:Math.floor(Math.random()*o)+1;(t={num:(this.isHorizontal,Math.floor(Math.random()*L.TEN)+1),count:i,remove:!1}).count=this.isHorizontal?1:Math.floor(3*Math.random())+1}var s=m(this.isHorizontal?this.Node_itemTempH:this.Node_itemTemp);this.isHorizontal?this.node.addChild(s):this.node.parent.addChild(s),e=e||this._curLength,this.setSymbolPos(s,e,t.count);var r=s.getComponent(T);return r.initItem(t,this.isHorizontal,this._iCol,this._runStatus),-1!=n?this.symbolList[n]=r:this.symbolList.push(r),this.itemTag=(this.itemTag+1)%2e3,s.name="symbol_col_"+this._iCol+"_tag_"+this.itemTag,this._curLength+=t.count,r},l.setSymbolWaitPos=function(t,e,n,o){if(void 0===o&&(o=!0),this.isHorizontal)if(e>=this.maxIndex){var i=6==this._iCol?v:I;t.position=i[i.length-1].pos,t.eulerAngles=i[i.length-1].eulerAngles}else{var s=6==this._iCol?v:I;if(o)t.position=s[e+2].pos,t.eulerAngles=s[e+2].eulerAngles;else{var r=this.node.getComponent(h).convertToWorldSpaceAR(s[e+2].pos);t.position=t.parent.getComponent(h).convertToNodeSpaceAR(r),t.eulerAngles=s[e+2].eulerAngles}}else{var a=(e+n/2)*S.cSymbolH;t.setPosition(this.node.getPosition().x,S.cSymbolStartY+a)}},l.setSymbolPos=function(t,e,n,o){if(void 0===o&&(o=!0),this.isHorizontal)if(e>=this.maxIndex){var i=6==this._iCol?v:I;t.position=i[i.length-1].pos,t.eulerAngles=i[i.length-1].eulerAngles}else{var s=6==this._iCol?v:I;if(o)t.position=s[e+2].pos,t.eulerAngles=s[e+2].eulerAngles;else{var r=this.node.getComponent(h).convertToWorldSpaceAR(s[e+2].pos);t.position=t.parent.getComponent(h).convertToNodeSpaceAR(r),t.eulerAngles=s[e+2].eulerAngles}}else{var a=(e+n/2)*S.cSymbolH;t.setPosition(this.node.getPosition().x,S.cSymbolStartY+a)}},l.init=function(t){var e=this;this._curLength=0;for(var n=0;n<this.maxIndex;n++)this.addNewItem(t[n]);this.scheduleOnce((function(){for(var t=0;t<e.symbolList.length;t++){var n=e.symbolList[t].node;if(e.isHorizontal){var o=n.getPosition().x;n.setPosition(n.position.x+500,n.position.y),f(n).to(.2,{position:p(o,n.position.y)},{easing:"cubicOut"}).to(.05,{position:p(o+15,n.position.y)},{easing:"cubicIn"}).to(.05,{position:p(o,n.position.y)},{easing:"cubicOut"}).start()}else{var i=n.getPosition().y;n.setPosition(n.position.x,n.position.y+525),f(n).delay(.075*e._iCol).to(.2,{position:p(n.position.x,i)},{easing:"cubicOut"}).to(.05,{position:p(n.position.x,i+15)},{easing:"cubicIn"}).to(.05,{position:p(n.position.x,i)},{easing:"cubicOut"}).start()}}}))},l.isColWild=function(){for(var t,e=s(this.symbolList);!(t=e()).done;){if(t.value.itemInfo.num<L.SCATTER)return!1}for(var n,o=s(this.symbolList);!(n=o()).done;){if(n.value.itemInfo.num!=L.SCATTER)return!0}return!1},l.doStart=function(t,e,n){var o=this;return void 0===e&&(e=0),void 0===n&&(n=0),new Promise((function(i,l){o.scheduleOnce((function(){y.instance.isQuickStop&&y.instance.freeStatus==g.NONE?(o._runStatus=g.STOP,o._speed=3e3):o._runStatus=g.STOPPING}),e);var u=N.instance.checkColWild(y.instance.betResult.OpenNums[0]),c=!1;if(u.length>0)for(var m,h=s(u);!(m=h()).done;){if(m.value==o._iCol){c=!0;break}}var f=o.isColWild()&&y.instance.freeStatus!=g.NONE&&!y.instance.isFirstFree,p=f;if(f)for(var d=o.symbolList.length-1;d>=0;d--){if(o.symbolList[d].itemInfo.num<L.WILD){p=!1;break}}o.isHorizontal&&o.scheduleOnce(r(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.doStopH();case 2:i();case 3:case"end":return t.stop()}}),t)}))),n>1?1:n>.1?.1:n),gts.Debug.LogWarr("==doStart.doStart.betResult=="+JSON.stringify(y.instance.betResult)),o._resultInfoList=o.getResult(y.instance.betResult.OpenNums[0]);for(var v=[],I=[],T=[],P=0;P<o.symbolList.length;P++)I[P]=JSON.parse(JSON.stringify(o.symbolList[P].itemInfo));for(var k=0;k<o._resultInfoList.length;k++)v[k]=JSON.parse(JSON.stringify(o._resultInfoList[k]));for(var O=0;O<o.symbolList.length;O++)T[O]=o.symbolList[O].itemInfo.num<L.WILD?null:o.symbolList[O];o._runStatus=g.START,o._speed=S.CSpeedStart;var A=function t(e){switch(o._runStatus){case g.NONE:return void(o._curLength>o.maxIndex&&(o._curLength=o.maxIndex));case g.START:o._speed+=S.CSpeedAdd,o._speed>=S.cSpeedMax&&(o._speed=S.cSpeedMax,o._runStatus=g.RUNNING);break;case g.STOPPING:o._speed-=S.CSpeedReduse,o._speed<S.cSpeedMin&&(o._speed=S.cSpeedMin,o._runStatus=g.STOP);break;case g.END:if(!f||p){for(var n=0,l=o.symbolList.length-1;l>=0;l--){if((n+=o.symbolList[l].itemInfo.count)>o.maxIndex)o.symbolList.shift().node.destroyFromParent()}if(p)for(var u=0;u<v.length;u++){var m=o.symbolList[u];m&&(m.itemInfo.remove=v[u].remove)}}else{for(var h=null,d=0,P=o.symbolList.length-1;P>=0;P--){if((d+=o.symbolList[P].itemInfo.count)>o.maxIndex){h=o.symbolList.slice(P+1),o.symbolList.splice(P+1);break}}for(var k=o.symbolList.length-1;k>=0;k--){var O=o.symbolList[k];O.itemInfo.num<L.WILD&&(O.node.getComponent(b).opacity=0,O.node.destroyFromParent(),o.symbolList.splice(k,1))}var A=[];d=0;for(var H=0,w=0;d<o.maxIndex;){var D=I[H],R=v[w];if(D.num==R.num)A.push(T[H]),H++,w++,d+=D.count;else if(D.count==R.count)A.push(h[w]),d+=h[w].itemInfo.count,h[w]=null,H++,w++;else if(D.count>R.count){for(var W=D.count;W>0;)A.push(h[w]),W-=h[w].itemInfo.count,h[w]=null,w++;H++,d+=D.count}else{for(var z=R.count;z>0;)z-=I[H].count,H++;A.push(h[w]),d+=R.count,h[w]=null,w++}}o.symbolList=A.slice();for(var E=h.length-1;E>=0;E--){var M=h[E];M&&(M.node.getComponent(b).opacity=0,M.node.destroyFromParent(),h.splice(E,1))}for(var F=0;F<v.length;F++){o.symbolList[F].itemInfo.remove=v[F].remove}}return f=!1,p=!1,v=[],I=[],T=[],o._runStatus=g.NONE,void o.scheduleOnce(r(a().mark((function e(){var n,r,l,u;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(N.instance.playOneShot(x.spinActiveLoop),n=[],r=s(o.symbolList);!(l=r()).done;)u=l.value,n.push(u.doStop());return e.next=5,Promise.all(n);case 5:y.instance.specialStartCol>0&&(0==o._iCol||o._iCol>=y.instance.specialStartCol)&&_.instance.emit(C.onSetMask,o._iCol,o.node.getPosition().x),o.unschedule(t),i();case 8:case"end":return e.stop()}}),e)}))),0)}var J=.01667*o._speed,G=o.isHorizontal?J/S.cSymbolW:J/S.cSymbolH;o._curLength-=G;var U=o._curLength<=o.maxIndex;0==o._resultInfoList.length&&U&&(G-=o.maxIndex-o._curLength,J=o.isHorizontal?G*S.cSymbolW:G*S.cSymbolH,o._curLength=o.maxIndex,o._runStatus=g.END);for(var j=o.symbolList.length-1;j>=0;j--){var B=o.symbolList[j];B.doRunning(J)||(o.symbolList.splice(j,1),B.node.destroyFromParent())}if(U){var Y=o._runStatus==g.STOP&&o._resultInfoList.length>0?o._resultInfoList.shift():null;if(Y){var Q=Math.floor(Math.random()*L.TEN)+1;Y.num=c?Q:Y.num}if(p)return;o.addNewItem(Y)}};o.isHorizontal?o.doStartH():o.scheduleOnce((function(){o.schedule(A)}),t)}))},l.doStartH=function(){if(this.isHorizontal)for(var t=0;t<this.symbolList.length;t++){this.symbolList[t].doStartH(t)}},l.doStopH=function(){for(var t=[],e=0;e<this.symbolList.length;e++){var n=this.symbolList[e];t.push(n.doStopH(e))}return this.scheduleOnce((function(){N.instance.playOneShot(x.spinStopCoaster)}),.25),Promise.all(t)},l.doEffect=function(){for(var t=[],n=0;n<this.symbolList.length;n++){var o=this.symbolList[n];t.push(o.doEffect(0*e.rewardCount)),o.itemInfo.remove&&e.rewardCount++}return Promise.all(t)},l.doClear=function(){var t=r(a().mark((function t(){var n,o,i,r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(e.rewardCount=0,n=[],o=s(this.symbolList);!(i=o()).done;)(r=i.value).itemInfo.remove&&(r.itemInfo.num<L.WILD?n.push(r.doClear()):n.push(r.doWildClear(r.itemInfo.num)));return t.abrupt("return",Promise.all(n));case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),l.doScatterAni=function(){var t=r(a().mark((function t(){var e=this;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,n){for(var o,i=[],r=s(e.symbolList);!(o=r()).done;){var a=o.value;i.push(a.doScatterAni())}return Promise.all(i)})));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),l.doDrop=function(){var t=r(a().mark((function t(e,n){var o,i,s,r,l,u,c,m,h,f,p,d,b,y,g,v,I,S,x,C,_,T,P,k,O,A;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=this.getResult(e),gts.Debug.Log("doDrop==_nextResultInfoList=="+JSON.stringify(o)),i=N.instance.checkColWild(e),s=function(t){var n=e.openNum[6].slice(),o=e.openNum[7].slice();return n[t].num>=L.WILD&&o[t].num>=L.WILD},!this.isHorizontal){t.next=35;break}for(r=[],l=[null,null,null,null],this.symbolList.length,u=0;u<this.symbolList.length;u++)(c=this.symbolList[u]).isClear?(c.node.destroyFromParent(),this._curLength-=c.itemInfo.count,this.symbolList[u]=null):s(u)&&c.itemInfo.num>=L.WILD?l[u]=c:r.push(c);for(m=0;m<l.length;m++)null==l[m]&&(l[m]=r.shift());this.symbolList=l.slice(),h=[],f=this.maxIndex,p=0;case 14:if(!(p<o.length)){t.next=33;break}if(d=this.symbolList[p],b=o[p],y=!1,!d){t.next=23;break}d.isChangeSymbol=d.itemInfo.num<L.SCATTER&&o[p].num==L.WILD,d.itemInfo=o[p],t.next=28;break;case 23:if(y=!0,d=this.addNewItem(b,f,p)){t.next=27;break}return t.abrupt("continue",30);case 27:f+=d.itemInfo.count;case 28:g=p,h.push(d.doDrop(g,y));case 30:p++,t.next=14;break;case 33:for(v=this.symbolList.length-1;v>=0;v--)null==this.symbolList[v]&&this.symbolList.splice(v,1);return t.abrupt("return",Promise.all(h));case 35:for(I=this.symbolList.length-1;I>=0;I--)(S=this.symbolList[I]).isClear&&(S.node.destroyFromParent(),this.symbolList.splice(I,1),this._curLength-=S.itemInfo.count);x=0,C=[],_=this.maxIndex,T=0;case 40:if(!(T<o.length)){t.next=63;break}if(P=null,k=!1,!(T<this.symbolList.length)){t.next=49;break}(P=this.symbolList[T]).isChangeSymbol=P.itemInfo.num<L.SCATTER&&o[T].num==L.WILD,P.itemInfo.num<L.SCATTER&&(P.itemInfo=o[T]),t.next=58;break;case 49:if(k=!0,O=o[T],A=i.length>0,Math.floor(Math.random()*L.TEN)+1,A&&O.num!=L.SCATTER||O.num,P=this.addNewItem(O,_)){t.next=57;break}return t.abrupt("continue",60);case 57:_+=P.itemInfo.count;case 58:C.push(P.doDrop(x,k)),x+=P.itemInfo.count;case 60:T++,t.next=40;break;case 63:return t.abrupt("return",Promise.all(C));case 64:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}(),l.doDropFront=function(){var t=r(a().mark((function t(n,o,i,s){var r,l,u,c,m,h,f,p,d,b,y,g,v,I,S,x,C,_,T,P,k,O,A,H,w,D;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===o&&(o=0),void 0===i&&(i=!0),r=this.getResult(n),N.instance.checkColWild(n),l=function(t){var e=n.openNum[6].slice(),o=n.openNum[7].slice();return e[t].num>=L.WILD&&o[t].num>=L.WILD},!this.isHorizontal){t.next=36;break}if(i){for(u=[],c=[null,null,null,null],this.symbolList.length,m=0;m<this.symbolList.length;m++)(h=this.symbolList[m]).isClear?(h.node.destroyFromParent(),this._curLength-=h.itemInfo.count,this.symbolList[m]=null):l(m)&&h.itemInfo.num>=L.WILD?c[m]=h:u.push(h);for(f=0;f<c.length;f++)null==c[f]&&(c[f]=u.shift());this.symbolList=c.slice()}p=[],d=this.maxIndex,b=0;case 10:if(!(b<r.length)){t.next=34;break}if(y=this.symbolList[b],g=r[b],!i){t.next=23;break}if(y){t.next=16;break}return t.abrupt("continue",31);case 16:y.isChangeSymbol=y.itemInfo.num<L.SCATTER&&r[b].num==L.WILD,y.itemInfo=r[b],v=b,p.push(y.doDrop(v,!1,o*e.dropCounts)),e.dropCounts++,t.next=31;break;case 23:if(y&&y.itemInfo.num==g.num){t.next=31;break}if(I=b,y=this.addNewItem(g,d,b)){t.next=28;break}return t.abrupt("continue",31);case 28:d+=y.itemInfo.count,p.push(y.doDrop(I,!0,o*e.dropCounts)),e.dropCounts++;case 31:b++,t.next=10;break;case 34:if(!i)for(S=this.symbolList.length-1;S>=0;S--)null==this.symbolList[S]&&this.symbolList.splice(S,1);return t.abrupt("return",Promise.all(p));case 36:if(x=0,i)for(e.dropCounts=0,C=this.symbolList.length-1;C>=0;C--)(_=this.symbolList[C]).isClear&&(_.node.destroyFromParent(),this.symbolList.splice(C,1),this._curLength-=_.itemInfo.count);else for(T=this.symbolList.length-1;T>=0;T--)P=this.symbolList[T],x+=P.itemInfo.count;k=[],O=this.maxIndex,A=0;case 41:if(!(A<r.length)){t.next=60;break}if(H=null,w=!1,!i){t.next=49;break}A<this.symbolList.length&&((H=this.symbolList[A]).isChangeSymbol=H.itemInfo.num<L.SCATTER&&r[A].num==L.WILD,H.itemInfo.num<L.SCATTER&&(H.itemInfo=r[A])),w=!1,t.next=56;break;case 49:if(!(A>=this.symbolList.length)){t.next=56;break}if(D=r[A],H=this.addNewItem(D,O)){t.next=54;break}return t.abrupt("continue",57);case 54:O+=H.itemInfo.count,w=!0;case 56:H&&(k.push(H.doDrop(x,w,o*e.dropCounts)),x+=H.itemInfo.count,e.dropCounts++);case 57:A++,t.next=41;break;case 60:return t.abrupt("return",Promise.all(k));case 61:case"end":return t.stop()}}),t,this)})));return function(e,n,o,i){return t.apply(this,arguments)}}(),e}(d)).rewardCount=0,E.dropCounts=0,D=e((w=E).prototype,"isHorizontal",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),R=e(w.prototype,"maxIndex",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),W=e(w.prototype,"Node_itemTemp",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(w.prototype,"Node_itemTempH",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=w))||H)||H));l._RF.pop()}}}));

System.register("chunks:///_virtual/Coaster_symbolEffectRoot.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CoasterDef.ts","./EventManager.ts"],(function(t){var e,n,o,i,f,r,a,s,c,l,u,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){f=t.cclegacy,r=t._decorator,a=t.Prefab,s=t.instantiate,c=t.sp,l=t.Component},function(t){u=t.eEvent},function(t){d=t.default}],execute:function(){var p,E,m,b,h,y;f._RF.push({},"70cc602VidMXYnWEGlBS0Vk","Coaster_symbolEffectRoot",void 0);var _=r.ccclass,v=r.property,C=r.menu;r.inspector,t("default",(p=_("CoasterSymbolEffectRoot"),E=C("game/CoasterGame/Coaster_symbolEffectRoot"),m=v(a),p(b=E((y=e((h=function(t){function e(){for(var e,n=arguments.length,f=new Array(n),r=0;r<n;r++)f[r]=arguments[r];return e=t.call.apply(t,[this].concat(f))||this,o(e,"prefab_symbolEffect",y,i(e)),e}n(e,t);var f=e.prototype;return f.onEnable=function(){d.instance.on(u.onAddEffect,this.onAddEffect,this),d.instance.on(u.onDelEffect,this.onDelEffect,this)},f.onDisable=function(){d.instance.off(u.onAddEffect,this.onAddEffect,this),d.instance.off(u.onDelEffect,this.onDelEffect,this)},f.start=function(){},f.onAddEffect=function(t,e,n){var o=s(this.prefab_symbolEffect);o.name="symbolEffect_"+t+"_"+e,o.position=n,this.node.addChild(o);var i=o.getComponent(c.Skeleton);i.setAnimation(0,"boom",!1),i.addAnimation(0,"idle",!0)},f.onDelEffect=function(t,e){var n=this.node.getChildByName("symbolEffect_"+t+"_"+e);n&&n.destroyFromParent()},e}(l)).prototype,"prefab_symbolEffect",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=h))||b)||b));f._RF.pop()}}}));

System.register("chunks:///_virtual/Coaster_symbolInfo.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CoasterDef.ts","./Coaster_symbolItem.ts"],(function(e){var t,o,i,n,a,r,l,c,s,d,u,m,_,f,p,b,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){a=e.cclegacy,r=e._decorator,l=e.Node,c=e.Label,s=e.SpriteFrame,d=e.tween,u=e.v3,m=e.UITransform,_=e.instantiate,f=e.UIOpacity,p=e.Component},function(e){b=e.eSymbol},function(e){h=e.default}],execute:function(){var N,v,y,g,C,L,w,k,I,D,S,z,x,T,A,B,E,F;a._RF.push({},"246afaCRkFJUpyNE6antVjt","Coaster_symbolInfo",void 0);var R=r.ccclass,W=r.property,O=r.menu,U=(r.inspector,[[30,40,60,80],[20,25,50,70],[10,25,40,60],[8,15,20,30],[6,10,12,15],[6,10,12,15],[4,6,8,10],[4,6,8,10],[1,2,3,4],[1,2,3,4],[1,2,3,4]]);e("default",(N=R("CoasterSymbolInfo"),v=O("game/CoasterGame/Coaster_symbolInfo"),y=W(l),g=W(l),C=W(l),L=W(c),w=W(c),k=W(s),I=W(l),N(D=v((z=t((S=function(e){function t(){for(var t,o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return t=e.call.apply(e,[this].concat(a))||this,i(t,"Node_info",z,n(t)),i(t,"Node_item",x,n(t)),i(t,"Node_icon",T,n(t)),i(t,"Label_hu",A,n(t)),i(t,"Label_wild",B,n(t)),i(t,"arrBgSpFrame",E,n(t)),i(t,"mask",F,n(t)),t}o(t,e);var a=t.prototype;return a.onLoad=function(){var e=this;this.mask.on(l.EventType.TOUCH_END,(function(){e.mask.active=!1,d(e.Node_info).to(.1,{scale:u(1,1,1)}).to(.2,{scale:u(.25,.25,.25)}).call((function(){e.Node_item.destroyAllChildren(),e.mask.active=!1,e.Node_info.scale=u(0,0,0),e.Node_item.active=!1,e.Node_info.active=!1})).start()}),this)},a.onEnable=function(){},a.onDisable=function(){this.mask.active=!1,this.Node_item.active=!1,this.Node_info.active=!1,this.mask.off("click",null,this)},a.showSymbolInfo=function(e,t,o){var i=this;if(this.Node_info.active)return this.Node_item.destroyAllChildren(),this.mask.active=!1,this.Node_item.active=!1,void(this.Node_info.active=!1);this.mask.active=!0,this.Node_item.active=!0,this.Node_icon.active=!0,this.Node_info.active=!0,(o=this.Node_info.parent.getComponent(m).convertToNodeSpaceAR(u(o))).x=o.x-150<-307?o.x+150:o.x+150>307?o.x-150:o.x,this.Node_info.position=o,this.Node_item.destroyAllChildren(),this.scheduleOnce((function(){var o=_(t);switch(o.position=u(0),o.name="Node_box",i.Node_item.addChild(o),o.scale=u(.7,.7,.7),i.scheduleOnce((function(){e.num<=b.WILD?i.Node_item.getComponent(h).setSymbolIcon(o.getChildByName("Node_symbol"),e.num,!0,!1,!0):i.Node_item.getComponent(h).doWildEnter(e.num,e.count,.7,o)}),.01),e.num){case b.SCATTER:i.Node_item.active=!0,i.Node_icon.active=!1,i.Label_hu.node.active=!0,i.Label_wild.node.active=!1;break;case b.WILD:o.getComponent(m).anchorY=.5;var n=o.getChildByName("Node_symbol");n.getComponent(m).anchorY=.5,n.position=u(0,0,0);case b.WILD2:case b.WILD3:o.scale=u(.7,.7,.7),i.Node_item.active=!0,i.Node_icon.active=!1,i.Label_hu.node.active=!1,i.Label_wild.node.active=!0;break;default:gts.Debug.LogWarr("==symbol.Sym=="+e.num),i.Node_item.getComponent(m).priority=0,i.Node_icon.getComponent(m).priority=1,i.Label_hu.node.active=!1,i.Label_wild.node.active=!1,i.Node_icon.active=!0,i.Node_item.active=!0;for(var a=U[e.num-b.RollerCoaster],r=0;r<4;r++){i.Node_icon.getChildByName("Label_rate_"+r).getComponent(c).string=""+a[r]}}i.Node_info.getComponent(m).height=178+103*(e.count-1),i.Node_info.getComponent(f).opacity=255,i.Node_info.scale=u(0,0,0),d(i.Node_info).to(.2,{scale:u(1.1,1.1,1.1)}).to(.1,{scale:u(1,1,1)}).start()}),.05)},t}(p)).prototype,"Node_info",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(S.prototype,"Node_item",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(S.prototype,"Node_icon",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(S.prototype,"Label_hu",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(S.prototype,"Label_wild",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=t(S.prototype,"arrBgSpFrame",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=t(S.prototype,"mask",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=S))||D)||D));a._RF.pop()}}}));

System.register("chunks:///_virtual/Coaster_symbolItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CoasterModel.ts","./CoasterDef.ts","./EventManager.ts","./CoasterUtils.ts"],(function(e){var t,n,o,i,s,a,l,r,c,d,u,m,f,p,h,g,_,y,C,I,S,b,v,N,A,x,k;return{setters:[function(e){t=e.inheritsLoose,n=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){i=e.cclegacy,s=e._decorator,a=e.Node,l=e.sp,r=e.Sprite,c=e.v3,d=e.UITransform,u=e.Label,m=e.Tween,f=e.tween,p=e.UIOpacity,h=e.instantiate,g=e.Component},function(e){_=e.CoasterModel},function(e){y=e.eRunStatus,C=e.eSymbol,I=e.eZindex,S=e.eConstDef,b=e.eEvent,v=e.cArrPos_0,N=e.cArrPos_1,A=e.eSound},function(e){x=e.default},function(e){k=e.CoasterUtils}],execute:function(){var O;i._RF.push({},"fda215FfIhKc5xWoE9BTGwi","Coaster_symbolItem",void 0);var E=s.ccclass,L=(s.property,s.menu);s.inspector,e("default",E("CoasterSymbolItem")(O=L("game/CoasterGame/Coaster_symbolItem")(O=function(e){function i(){for(var t,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(t=e.call.apply(e,[this].concat(o))||this).Node_box=null,t.Node_symbol=null,t.itemInfo=null,t._isHorizontal=!1,t._iCol=0,t._iRowH=0,t.tag=0,t._runStatus=y.NONE,t._spineEffect_kuang=null,t._spineEffect_kuangLight=null,t.isClear=!1,t.isChangeSymbol=!1,t.isDidOpen=!1,t}t(i,e);var s=i.prototype;return s.start=function(){},s.onEnable=function(){this.node.on("click",this.onSymbolClick,this)},s.onDisable=function(){this.node.off("click",this.onSymbolClick,this)},s.initItem=function(e,t,n,o,i){var s=this;void 0===t&&(t=!1),void 0===n&&(n=0),void 0===o&&(o=y.NONE),void 0===i&&(i=!0),this._iCol=n,this._isHorizontal=t,this._runStatus=o,this.itemInfo=e,this.Node_box=this.node.getChildByName("Node_box"),this.Node_symbol=this.Node_box.getChildByName("Node_symbol");var a=!!_.instance.betResult;this.updateSymbol(this.itemInfo.remove,a),a&&i||this.scheduleOnce((function(){s.doWildEnter(s.itemInfo.num,s.itemInfo.count)}),.05)},s.addEffectKuang=function(){var e=this;return new Promise((function(t,n){var o=new a,i=o.addComponent(l.Skeleton);i.premultipliedAlpha=!0,e.scheduleOnce((function(){i.skeletonData=k.instance.getSkeletonData("kuang_effect"),i.setAnimation(0,"lv"+e.itemInfo.count,!1)})),e.node.addChild(o),e._spineEffect_kuang=i,t()}))},s.addEffectKuangLight=function(){var e=this;return new Promise((function(t,n){var o=new a,i=o.addComponent(l.Skeleton);i.premultipliedAlpha=!0,i.setAnimationCacheMode(l.Skeleton.AnimationCacheMode.SHARED_CACHE),i.skeletonData=k.instance.getSkeletonData("kuang_light"),i.setAnimation(0,"changelight_lv"+e.itemInfo.count,!0),t(),e.node.addChild(o),e._spineEffect_kuangLight=i}))},s.setSymbolIcon=function(e,t,n,o,i){if(void 0===n&&(n=!0),void 0===o&&(o=!0),void 0===i&&(i=!1),n){var s=e.getComponent(r);s&&(s.enabled=!1,s.destroy()),this.scheduleOnce((function(){var n=k.instance.getSkeletonData(t,!1),s=e.getComponent(l.Skeleton);s||(s=e.addComponent(l.Skeleton)),s.premultipliedAlpha=!0,s.skeletonData=n;var a=k.instance.getSymbolAniName(t,o);if(s._skeleton&&(s.setAnimation(0,a[0],!(a.length>1)&&i),a.length>1))for(var r=1;r<a.length;r++)s.addAnimation(0,a[r],r==a.length-1)}))}else{var a=e.getComponent(l.Skeleton);a&&(a.enabled=!1,a.destroy()),this.scheduleOnce((function(){var n=k.instance.getItemSymbolIcon(t,!0),o=e.getComponent(r);o||(o=e.addComponent(r)),o.spriteFrame=n}))}},s.updateIcon=function(e,t,n){var o=this;if(void 0===t&&(t=!1),void 0===n&&(n=!0),n=this._runStatus==y.RUNNING&&_.instance.curSpecialStartCol!=this._iCol,t=!(e!=C.SCATTER&&!this._isHorizontal&&n)||t,e>C.WILD&&(t=!1,n=!1),this.Node_symbol.scale=n?c(2,2,2):c(1,1,1),this.Node_symbol.setPosition(0,0),t){var i=this.Node_symbol.getComponent(r);i&&(i.enabled=!1,i.destroy()),this.scheduleOnce((function(){var t=k.instance.getSkeletonData(e),i=o.Node_symbol.getComponent(l.Skeleton);i||(i=o.Node_symbol.addComponent(l.Skeleton)),i.premultipliedAlpha=!0,i.skeletonData=t;var s=k.instance.getSymbolAniName(e,n);if(i.setAnimation(0,s[0],!1),s.length>1)for(var a=1;a<s.length;a++)i.addAnimation(0,s[a],a==s.length-1)}))}else{var s=this.Node_symbol.getComponent(l.Skeleton);s&&(s.enabled=!1,s.destroy()),this.scheduleOnce((function(){var t=k.instance.getItemSymbolIcon(e,n),i=o.Node_symbol.getComponent(r);i||(i=o.Node_symbol.addComponent(r)),i.spriteFrame=t}))}switch(this.Node_symbol.removeAllChildren(),e){case C.SCATTER:this._runStatus==y.STOP&&_.instance.specialStartCol>0&&this.scheduleOnce((function(){o.Node_symbol.getComponent(l.Skeleton).setAnimation(0,"fastspin_idle",!0)}),.1)}},s.updateBox=function(e,t){e=this.itemInfo.num>=C.WILD?C.WILD:e,this.Node_box.getComponent(r).spriteFrame=k.instance.getItemSymbolIconBox(e,t),this.Node_box.getComponent(d).anchorY=.5,this.Node_box.position=c(0,0,0),this.Node_symbol.position=c(0,0,0),this.node.getComponent(d).width=this.Node_box.getComponent(d).width,this.node.getComponent(d).height=this.Node_box.getComponent(d).height},s.updateSymbol=function(e,t){void 0===e&&(e=!1),void 0===t&&(t=!0),this.updateBox(this.itemInfo.num,this.itemInfo.count),this.updateIcon(this.itemInfo.num,e,t),this.updateZIndex(this._runStatus)},s.updateZIndex=function(e){if(this.itemInfo){var t=0;switch(this.itemInfo.num){case C.WILD:case C.WILD2:case C.WILD3:t=I.icon_wild;break;case C.SCATTER:t=_.instance.specialStartCol>0?I.SPECIAL:I.icon_scatter;break;default:t=I.icon}switch(e){case y.RUNNING:t=_.instance.specialStartCol>0&&this._iCol>_.instance.specialStartCol&&this._iCol<S.CMaxCol-2?I.SPECIAL-2*this._iCol:t,this.node.getComponent(d).priority=t;break;case y.STOP:this.node.getComponent(d).priority=t;break;case y.CLEAR:this.node.getComponent(d).priority=I.iconWin;break;default:this.node.getComponent(d).priority=t}}},s.onSymbolClick=function(){if(_.instance.gameStatus==y.NONE&&!_.instance.isAuto){var e=this.Node_box.getComponent(d).convertToWorldSpaceAR(c(0));x.instance.emit(b.onSymbolClick,this.itemInfo,this.Node_box,e)}},s.doStartH=function(e){var t=this;this.itemInfo.num>=C.WILD&&_.instance.freeStatus!=y.NONE&&!_.instance.isFirstFree||(this._iRowH=e,this.node.getChildByName("Label_tag").getComponent(u).string=""+e,m.stopAllByTarget(this.node),this.scheduleOnce((function(){for(var n,o=6==t._iCol?v:N,i=e+2,s=[],a=_.instance.isQuickStop&&_.instance.freeStatus==y.NONE?.025:.05,l=i-1;l>=0;l--)s.push(f(t.node).to(a,{position:o[l].pos,eulerAngles:o[l].eulerAngles}));(n=f(t.node)).sequence.apply(n,s).call((function(){})).start()}),e*(_.instance.isQuickStop&&_.instance.freeStatus==y.NONE?0:.075)))},s.doStopH=function(e){var t=this;return this._runStatus=y.STOP,new Promise((function(n,o){if(t._iRowH=e,t.itemInfo.num>=C.WILD&&_.instance.freeStatus!=y.NONE&&!_.instance.isFirstFree){var i=_.instance.betResult.OpenNums[0].openNum[t._iCol];return t.itemInfo=i[e],void n()}t.node.getChildByName("Label_tag").getComponent(u).string=""+e;var s=6==t._iCol?v:N,a=s[s.length-1].pos;t.node.position=a,t.node.eulerAngles=s[s.length-1].eulerAngles;for(var l=t.node.children.length-1;l>=0;l--){var r=t.node.children[l];-1!=r.name.indexOf("newBox_")&&r.destroyFromParent()}var c=_.instance.isQuickStop&&_.instance.freeStatus==y.NONE?.03:.05;m.stopAllByTarget(t.node),t.scheduleOnce((function(){var o,i=s.length-1,a=e+2,l=_.instance.betResult.OpenNums[0].openNum[t._iCol];t.itemInfo=l[e],t.updateSymbol(!0);for(var r=[],d=i-1;d>=a;d--)r.push(f(t.node).to(c,{position:s[d].pos,eulerAngles:s[d].eulerAngles}));(o=f(t.node)).sequence.apply(o,r).delay(.5).call((function(){switch(t.itemInfo.num){case C.WILD2:case C.WILD3:t.doWildEnter(t.itemInfo.num,t.itemInfo.count),t.scheduleOnce((function(){n()}),.75);break;default:n()}})).start()}),e*(_.instance.isQuickStop&&_.instance.freeStatus==y.NONE?.06:.075))}))},s.doRunning=function(e){var t=this;if(this.itemInfo.num>=C.WILD&&_.instance.freeStatus!=y.NONE&&!_.instance.isFirstFree)return!0;this._runStatus=y.RUNNING,this.updateZIndex(this._runStatus);var n=!0;return this._isHorizontal?function(){t.node.setPosition(t.node.position.x-e,t.node.position.y);var o=-248.5-t.itemInfo.count/2*125;t.node.getPosition().x<=o&&(n=!1)}():function(){t.node.setPosition(t.node.position.x,t.node.position.y-e);var o=-250-t.itemInfo.count/2*100;t.node.getPosition().y<=o&&(n=!1)}(),n},s.doStop=function(e){var t=this;return void 0===e&&(e=0),this._runStatus=y.STOP,new Promise((function(n,o){var i,s;t._isHorizontal?(i=t.node.getPosition().x+10+e,s=t.node.getPosition().x+e,f(t.node).to(.15,{position:c(i,t.node.position.y)},{easing:"cubicOut"}).to(.05,{position:c(s,t.node.position.y)},{easing:"cubicIn"}).call((function(){t.updateZIndex(y.STOP),t.setSymbolIcon(t.Node_symbol,t.itemInfo.num,!0,!0,!1),t.itemInfo.num==C.SCATTER&&k.instance.playOneShot(A.symScatter),n()})).start()):function(){if(_.instance.isQuickStop)t.updateZIndex(y.STOP),t.setSymbolIcon(t.Node_symbol,t.itemInfo.num,!0,!0,!1),t.itemInfo.num==C.SCATTER&&k.instance.playOneShot(A.symScatter),t.node.position=c(t.node.position.x,t.node.getPosition().y+e),n();else{var o=t.node.getPosition().y+10+e,i=t.node.getPosition().y+e;f(t.node).to(.15,{position:c(t.node.position.x,o)},{easing:"cubicOut"}).to(.05,{position:c(t.node.position.x,i)},{easing:"cubicIn"}).call((function(){t.updateZIndex(y.STOP),t.itemInfo.num==C.SCATTER&&k.instance.playOneShot(A.symScatter),n()})).start()}}()}))},s.doEffect=function(e){var t=this;return this._runStatus=y.CLEAR,new Promise((function(n,o){t.itemInfo.remove?(t.itemInfo.num<C.WILD&&t.updateSymbol(!0,!1),t.scheduleOnce((function(){t.itemInfo.num>=C.WILD&&(t.doWildEffect(),t.updateZIndex(t._runStatus)),t.addEffectKuang(),t.scheduleOnce(n,1)}),0+e)):(t.node.getComponent(d).priority=I.icon,n())}))},s.doClear=function(){var e=this;return this._runStatus=y.CLEAR,new Promise((function(t,n){if(e.itemInfo.remove){if(!e._spineEffect_kuang)return void t();if(e._spineEffect_kuang.setCompleteListener((function(){e._spineEffect_kuang.setCompleteListener(null),e._spineEffect_kuang.node.destroyFromParent(),e._spineEffect_kuang=null,e.itemInfo.num<=C.WILD&&(e.node.getComponent(p).opacity=0),t()})),e.itemInfo.num<C.WILD)for(var o=0,i=["Node_frame","Node_box","Node_frame_f"];o<i.length;o++){var s=i[o],a=e.node.getChildByName(s);a&&(f(a).to(.05,{scale:c(1.2,1.2,1)}).to(.05,{scale:c(1,1,1)}).delay(.1).call((function(){e.isClear||(e.isClear=!0,k.instance.playOneShot(A.symShrink))})).start(),f(a.getComponent(p)).to(.1,{opacity:0}).start())}else if(_.instance.freeStatus==y.NONE){f(e.node).to(.1,{scale:c(.5,.5,.5)}).start();var r=e.Node_symbol.getComponent(l.Skeleton);r.setAnimation(0,"exit",!1),r.setCompleteListener((function(){r.setCompleteListener(null),e.itemInfo.num>C.WILD?(m.stopAllByTarget(e.node),e.node.scale=e._isHorizontal?c(1,1,1):c(.7,.7,.7),e.itemInfo.num=e.itemInfo.num-1,e.updateSymbol()):e.isClear||(e.isClear=!0,e.node.getComponent(p).opacity=0,k.instance.playOneShot(A.symShrink))}))}}else t()}))},s._doShake=function(){var e=this;return new Promise((function(t,n){e.scheduleOnce((function(){e.isClear?t():f(e.node).shake(.5,1.25,1.25).call((function(){t()})).start()}),.25)}))},s.doDrop=function(){var e=n(o().mark((function e(t,n,i){var s=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===n&&(n=!1),void 0===i&&(i=0),this._runStatus=y.DROP,e.abrupt("return",new Promise((function(e,o){s.scheduleOnce((function(){var o=s._isHorizontal?s.node.getPosition().x:s.node.getPosition().y,i=0;if(s._isHorizontal){i=(6==s._iCol?v:N)[t+2].pos.x}else{var a=(t+s.itemInfo.count/2)*S.cSymbolH;i=S.cSymbolStartY+a}var l=o-i;if(i>=o)e();else{var r,d,u=Math.abs(l)/1e3;s._isHorizontal?function(){m.stopAllByTarget(s.node);s.scheduleOnce((function(){var o,i=6==s._iCol?v:N,a=n?i.length-1:s._iRowH+2,l=t+2;s._iRowH=t;for(var r=[],c=a-1;c>=l;c--)r.push(f(s.node).to(.1,{position:i[c].pos,eulerAngles:i[c].eulerAngles}));(o=f(s.node)).sequence.apply(o,r).call((function(){if(n)switch(s.itemInfo.num){case C.WILD2:case C.WILD3:s.doWildEnter(s.itemInfo.num,s.itemInfo.count),s.scheduleOnce((function(){e()}),.75);break;default:e()}else e()})).start()}),.1*t)}():(r=s.node.getPosition().y-l,d=r+10,f(s.node).to(u,{position:c(s.node.position.x,r)},{easing:"cubicOut"}).to(.05,{position:c(s.node.position.x,d)},{easing:"cubicIn"}).to(.05,{position:c(s.node.position.x,r)},{easing:"cubicIn"}).call((function(){e()})).start())}}),i)})));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n,o){return e.apply(this,arguments)}}(),s.getSymbolAniName=function(e,t,n){void 0===t&&(t=!0);var o=null;switch(e){case C.SCATTER:o=t?"spawn":"win";break;case C.WILD:case C.WILD2:case C.WILD3:default:o=t?"spawn":"win"}return o||null},s.doScatterAni=function(){var e=this;return new Promise((function(t,n){if(e.itemInfo.num==C.SCATTER){var o=e.Node_symbol.getComponent(l.Skeleton);o.setAnimation(0,"win",!1),o.addAnimation(0,"win_idle",!0),e.scheduleOnce(t,.75)}else t()}))},s.doScatterEffect=function(){var e=this;return new Promise((function(t,n){var o=!0;if(e.itemInfo.num==C.SCATTER){!function t(){if(o){var n=e.Node_symbol.getComponent(l.Skeleton);n.setAnimation(0,"fastspin_start",!1),n.addAnimation(0,"fastspin_idle",!1),n.addAnimation(0,"fastspin_exit",!1),n.setCompleteListener((function(){n.setCompleteListener(null),t()}))}else{e.Node_symbol.getComponent(l.Skeleton).setAnimation(0,"idle",!0)}}(),e.node.getComponent(d).priority=I.iconWin,e.scheduleOnce((function(){o=!1,t()}),2)}else e.node.getComponent(d).priority=I.icon,t()}))},s.doWildEnter=function(e,t,n,o){void 0===t&&(t=1),void 0===n&&(n=1),void 0===o&&(o=null);var i=e-C.WILD;if(i>0){k.instance.playOneShot(A.symWildSpawn);var s=this.node.getChildByName("Node_frame_f");s&&(s.getComponent(d).priority=100);var a=o||this.Node_box,l=a.getChildByName("Node_symbol");a.getComponent(d).anchorY=0,a.position=c(0,-n*a.getComponent(d).height/2+100),l.position=c(0,n*a.getComponent(d).height/2,0);var u=1==i?6:12,g=.25;a.eulerAngles=c(0,0,-60),a.scale=c(2*n,2*n,2*n),a.getComponent(p).opacity=0;var _=c(0,0,u),y=c(a.position.x,-n*a.getComponent(d).height/2,a.position.z),I=c(n,n,n);f(a).to(g,{position:y,scale:I,eulerAngles:_}).delay(g).to(g,{eulerAngles:c(0,0,_.z/2)}).start(),f(a.getComponent(p)).to(.5,{opacity:255}).start();for(var S=0;S<i;S++){var b=h(a);b.name="newBox_"+S,b.eulerAngles=c(0,0,-60),m.stopAllByTarget(b),m.stopAllByTarget(b.getComponent(p));var v=C.WILD+S+1;b.getComponent(r).spriteFrame=k.instance.getItemSymbolIconBox(v,t),b.position=c(0,-b.getComponent(d).height/2+100,0),this.setSymbolIcon(b.getChildByName("Node_symbol"),v,S==i-1),b.scale=c(2*n,2*n,2*n),b.getComponent(p).opacity=0,_=c(0,0,u-12*(S+1)),y=c(b.position.x,-n*b.getComponent(d).height/2,b.position.z),I=c(n,n,n),f(b).delay(.1*S+.1).to(g,{position:y,scale:I,eulerAngles:_}).delay(g).to(.1875,{eulerAngles:c(0,0,_.z/2)}).start(),f(b.getComponent(p)).delay(.1*S+.1).to(.5,{opacity:255}).start(),this.node.addChild(b)}}},s.doWildOpen=function(e,t){var n=this;return void 0===t&&(t=1),new Promise((function(o,i){var s=n.node.getChildByName("Node_frame_f"),a=e-C.WILD;if(!n.isDidOpen&&(a>=0||n.isChangeSymbol))if(n.isDidOpen=!0,n.node.getComponent(d).priority=I.icon_wild,s&&(s.getComponent(d).priority=100),n.Node_box.getComponent(r).spriteFrame=k.instance.getItemSymbolIconBox(C.WILD,n.itemInfo.count),n.isChangeSymbol)e==C.WILD?(n.setSymbolIcon(n.Node_symbol,e,!0),n.isChangeSymbol=!1,n.Node_box.eulerAngles=c(0,0,0),n.scheduleOnce((function(){o()}),.5)):o();else{var u=n.Node_symbol.getComponent(l.Skeleton);u&&(u.enabled=!1,u.destroy()),n.scheduleOnce((function(){var i=n.Node_symbol.getComponent(r);i||(i=n.Node_symbol.addComponent(r)),i.spriteFrame=k.instance.getItemSymbolIcon(C.WILD,!0),n.Node_box.getComponent(d).anchorY=0,n.Node_box.position=c(0,-n.Node_box.getComponent(d).height/2),n.Node_symbol.position=c(0,n.Node_box.getComponent(d).height/2,0),n.Node_box.eulerAngles=c(0,0,0);var s=1==a?6:12,l=.25,u=s;n.updateZIndex(y.STOP),f(n.Node_box).to(l,{eulerAngles:c(0,0,u/2),scale:c(1.025*t,1.025*t,1.025*t)}).to(l,{eulerAngles:c(0,0,u),scale:c(t,t,t)}).to(.75,{eulerAngles:c(0,0,u/4)}).start(),0==a&&n.scheduleOnce((function(){n.setSymbolIcon(n.Node_symbol,e,!0),n.Node_box.eulerAngles=c(0,0,0),o()}),1.25);for(var g=0;g<a;g++){var _=n.node.getChildByName("newBox_"+g);if(_)o();else{(_=h(n.Node_box)).name="newBox_"+g,_.eulerAngles=c(0,0,0),m.stopAllByTarget(_),m.stopAllByTarget(_.getComponent(p));var I=C.WILD+g+1;_.getComponent(d).anchorY=0,_.getComponent(r).spriteFrame=k.instance.getItemSymbolIconBox(I,n.itemInfo.count),_.position=c(0,-_.getComponent(d).height/2,0),n.setSymbolIcon(_.getChildByName("Node_symbol"),I,g==a-1),u=s-12*(g+1),f(_).to(l,{eulerAngles:c(0,0,u/2),scale:c(1.025*t,1.025*t,1.025*t)}).to(l,{eulerAngles:c(0,0,u),scale:c(t,t,t)}).to(.75,{eulerAngles:c(0,0,u/4)}).call((function(){o()})).start(),n.node.addChild(_)}}}))}else o()}))},s.doWildEffect=function(){var e=this.itemInfo.num-C.WILD;if(e>0){var t=this.node.getChildByName("newBox_"+(e-1));f(t).to(.25,{scale:c(1.2,1.2,1)}).start()}else for(var n=0,o=["Node_frame","Node_box","Node_frame_f"];n<o.length;n++){var i=o[n],s=this.node.getChildByName(i);s&&f(s).to(.25,{scale:c(1.2,1.2,1)}).start()}},s.doWildClear=function(e){var t=this;return new Promise((function(n,o){if(t.itemInfo.remove){if(!t._spineEffect_kuang)return void n();t._spineEffect_kuang.setCompleteListener((function(){if(t._spineEffect_kuang.setCompleteListener(null),t._spineEffect_kuang.node.destroyFromParent(),t._spineEffect_kuang=null,t.node.getComponent(d).priority=I.icon_wild,t.itemInfo.num==C.WILD)t.node.getComponent(p).opacity=0;else{t.itemInfo.num--;var e=t.itemInfo.num-C.WILD;if(0==e)t.setSymbolIcon(t.Node_symbol,C.WILD);else{var o=t.node.getChildByName("newBox_"+(e-1));if(o){var i=o.getChildByName("Node_symbol");t.setSymbolIcon(i,t.itemInfo.num)}}}n()}));var i=e-C.WILD;if(i>0){var s=t.node.getChildByName("newBox_"+(i-1));if(s?(f(s).to(.25,{scale:c(.25,.25,.25)}).destroySelf().start(),f(s.getComponent(p)).to(.25,{opacity:0}).start()):gts.Debug.LogWarr("=====newBox==null============="),0==--i)f(t.Node_box).to(.1,{eulerAngles:c(0,0,0)}).start();else for(var a=1==i?6:12,l=0;l<i;l++){var r=a-12*(l+1),u=t.node.getChildByName("newBox_"+l);u?f(u).to(.1,{eulerAngles:c(0,0,r/4)}).start():gts.Debug.LogWarr("====nnnnnnnnewBox==null=============")}}else{for(var m=0,h=["Node_frame","Node_box","Node_frame_f"];m<h.length;m++){var g=h[m],_=t.node.getChildByName(g);_&&(f(_).to(.25,{scale:c(.25,.25,.25)}).start(),f(_.getComponent(p)).to(.25,{opacity:0}).start())}t.scheduleOnce((function(){t.isClear=!0}),.25)}}else n()}))},i}(g))||O)||O);i._RF.pop()}}}));

System.register("chunks:///_virtual/Coaster_winTip.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CoasterModel.ts","./CoasterDef.ts","./CoasterUtils.ts","./LocalizedImage.ts"],(function(t){var e,n,i,a,o,r,s,c,l,p,d,u,h,m,f,y,C,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){o=t.cclegacy,r=t._decorator,s=t.Label,c=t.Tween,l=t.tween,p=t.v3,d=t.instantiate,u=t.UIOpacity,h=t.Component},function(t){m=t.CoasterModel},function(t){f=t.Constant,y=t.eRunStatus},function(t){C=t.CoasterUtils},function(t){g=t.LocalizedImage}],execute:function(){var b,w,_,v,L,S;o._RF.push({},"8be2eFvA4RKubVQ+eciUpEA","Coaster_winTip",void 0);var F=r.ccclass,N=r.property,k=r.menu;r.inspector,t("default",(b=F("CoasterWinTip"),w=k("game/CoasterGame/Coaster_winTip"),_=N(s),b(v=w((S=e((L=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return e=t.call.apply(t,[this].concat(o))||this,i(e,"Label_win",S,a(e)),e.arrSpriteFrame=[],e}n(e,t);var o=e.prototype;return o.start=function(){},o.onEnable=function(){this.arrSpriteFrame=["info_win","info_tw"],this.node.getChildByName("Node_title").getComponent(g).key=this.arrSpriteFrame[0]},o.onDisable=function(){this.Label_win.string="",c.stopAllByTarget(this.node)},o.doShowRate=function(t){var e=this;this.node.getChildByName("Node_title").getComponent(g).key=this.arrSpriteFrame[0],l(this.node).to(.1,{scale:p(1.2,1.2,1)}).call((function(){e.Label_win.string=""+C.instance.numberFormat1(t/f.moneyRatio,2)})).to(.1,{scale:p(1,1,1)}).start()},o.doShow=function(t,e){void 0===e&&(e=0);var n=this.node.getChildByName("Node_title");switch(e){case 0:n.active=!1,this.Label_win.string=""+C.instance.numberFormatNf(t,2);break;case 1:n.active=!0,n.getComponent(g).key=this.arrSpriteFrame[0],this.Label_win.string=""+C.instance.numberFormatNf(t,2);var i=d(this.node);this.node.parent.addChild(i),i.getComponent(u).opacity=100,l(i).to(.75,{scale:p(1.5,1.5,1.5)}).destroySelf().start(),l(i.getComponent(u)).to(.75,{opacity:0}).start(),this.node.scale=p(1.2,1.2,1),l(this.node).to(.5,{scale:p(1,1,1)}).start();break;case 2:if(n.active=!0,n.getComponent(g).key=this.arrSpriteFrame[1],C.instance.updateLabelAddNf(this.Label_win,t,!0,0),m.instance.freeStatus!=y.NONE){var a=d(this.node);this.node.parent.addChild(a),a.getComponent(u).opacity=100,l(a).to(.75,{scale:p(1.5,1.5,1.5)}).destroySelf().start(),l(a.getComponent(u)).to(.75,{opacity:0}).start()}this.node.scale=p(1.2,1.2,1),l(this.node).to(.5,{scale:p(1,1,1)}).start()}},e}(h)).prototype,"Label_win",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=L))||v)||v));o._RF.pop()}}}));

System.register("chunks:///_virtual/CoasterGame",["./CoasterGameView.ts","./Coaster_ScrollView.ts","./Coaster_btnEffect.ts","./Coaster_buyReward.ts","./Coaster_helpTip.ts","./Coaster_history.ts","./Coaster_historyItem.ts","./Coaster_rank.ts","./Coaster_rankItem.ts","./Coaster_setAuto.ts","./Coaster_setBase.ts","./Coaster_shake.ts","./Coaster_symbol.ts","./Coaster_symbolEffectRoot.ts","./Coaster_symbolInfo.ts","./Coaster_symbolItem.ts","./Coaster_winTip.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/CoasterGameView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameDef.ts","./ConfigManager.ts","./EventManager.ts","./NetManager.ts","./CoasterDef.ts","./CoasterModel.ts","./CoasterCtrl.ts","./ViewManager.ts","./CoasterUtils.ts","./Coaster_winTip.ts","./Coaster_symbol.ts","./I18n.ts","./Coaster_symbolInfo.ts","./Common.ts","./AudioManager.ts","./Coaster_btnEffect.ts","./Coaster_helpTip.ts","./LocalizedImage.ts"],(function(t){var e,n,i,o,a,s,r,c,u,l,d,p,_,m,h,f,b,g,N,y,B,v,C,w,S,k,L,T,A,x,E,F,W,O,R,z,I,M,D,P,V,G,H,q,U,Q,Y,X;return{setters:[function(t){e=t.inheritsLoose,n=t.asyncToGenerator,i=t.applyDecoratedDescriptor,o=t.initializerDefineProperty,a=t.assertThisInitialized,s=t.regeneratorRuntime,r=t.createForOfIteratorHelperLoose},function(t){c=t.cclegacy,u=t._decorator,l=t.Node,d=t.Button,p=t.Label,_=t.sp,m=t.SpriteFrame,h=t.Sprite,f=t.view,b=t.tween,g=t.v3,N=t.UIOpacity,y=t.Tween,B=t.instantiate,v=t.UITransform,C=t.color,w=t.find},function(t){S=t.GameDef},function(t){k=t.default},function(t){L=t.default},function(t){T=t.default},function(t){A=t.eEvent,x=t.eRunStatus,E=t.Constant,F=t.eSound,W=t.eZindex,O=t.eProto,R=t.eConstDef},function(t){z=t.CoasterModel},function(t){I=t.CoasterCtrl},function(t){M=t.default},function(t){D=t.CoasterUtils},function(t){P=t.default},function(t){V=t.default},function(t){G=t.default},function(t){H=t.default},function(t){q=t.Common},function(t){U=t.default},function(t){Q=t.default},function(t){Y=t.default},function(t){X=t.LocalizedImage}],execute:function(){var j,Z,J,K,$,tt,et,nt,it,ot,at,st,rt,ct,ut,lt,dt,pt,_t,mt,ht,ft,bt,gt,Nt,yt,Bt,vt,Ct,wt,St,kt,Lt,Tt,At,xt,Et,Ft,Wt,Ot,Rt,zt,It,Mt,Dt,Pt,Vt,Gt,Ht,qt,Ut,Qt,Yt,Xt,jt,Zt,Jt,Kt,$t,te,ee,ne,ie,oe,ae,se,re,ce,ue,le,de,pe,_e,me,he,fe,be,ge,Ne,ye,Be,ve,Ce,we,Se,ke,Le,Te,Ae,xe,Ee,Fe,We,Oe,Re,ze;c._RF.push({},"39ec8wIzrRE/pa1ViaXmeqz","CoasterGameView",void 0);var Ie=u.ccclass,Me=u.property,De=u.menu;u.inspector,t("default",(j=Ie("CoasterGameView"),Z=De("game/CoasterGame/CoasterGameView"),J=Me(l),K=Me(l),$=Me(l),tt=Me(l),et=Me(l),nt=Me(l),it=Me(l),ot=Me(V),at=Me(l),st=Me(l),rt=Me(d),ct=Me(d),ut=Me(d),lt=Me(d),dt=Me(p),pt=Me(d),_t=Me(_.Skeleton),mt=Me(_.Skeleton),ht=Me(d),ft=Me(p),bt=Me(p),gt=Me(p),Nt=Me(p),yt=Me(l),Bt=Me(l),vt=Me(l),Ct=Me(l),wt=Me(l),St=Me(l),kt=Me(l),Lt=Me(l),Tt=Me(m),At=Me(m),xt=Me(m),Et=Me(m),Ft=Me(m),Wt=Me(m),Ot=Me(h),Rt=Me(h),zt=Me(l),It=Me(H),Mt=Me(p),Dt=Me(l),Pt=Me(l),Vt=Me(l),Gt=Me(l),j(Ht=Z((qt=function(t){function i(){for(var e,n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return e=t.call.apply(t,[this].concat(i))||this,o(e,"Node_mask_1_6",Ut,a(e)),o(e,"Node_mask_7",Qt,a(e)),o(e,"Node_mask_8",Yt,a(e)),o(e,"Node_colEffect",Xt,a(e)),o(e,"Node_effectRoot",jt,a(e)),o(e,"Node_helpTip",Zt,a(e)),o(e,"Node_winTip",Jt,a(e)),o(e,"Coaster_symbolList",Kt,a(e)),o(e,"Node_action",$t,a(e)),o(e,"Node_menu",te,a(e)),o(e,"Button_run",ee,a(e)),o(e,"Button_auto",ne,a(e)),o(e,"Button_add",ie,a(e)),o(e,"Button_redus",oe,a(e)),o(e,"Label_autoTimes",ae,a(e)),o(e,"Button_menu",se,a(e)),o(e,"Skeleton_run",re,a(e)),o(e,"Node_tipEffect",ce,a(e)),o(e,"Button_buy",ue,a(e)),o(e,"Label_gold",le,a(e)),o(e,"Label_bet",de,a(e)),o(e,"Label_win",pe,a(e)),o(e,"Label_way",_e,a(e)),o(e,"Button_soundon",me,a(e)),o(e,"Button_soundoff",he,a(e)),o(e,"ic_soundoff_off",fe,a(e)),o(e,"free_bglight",be,a(e)),o(e,"xn_light",ge,a(e)),o(e,"Label_curRate",Ne,a(e)),o(e,"Node_free",ye,a(e)),o(e,"Node_bigWin",Be,a(e)),o(e,"arrBgSpFrame",ve,a(e)),o(e,"arrRoomSpFrame",Ce,a(e)),o(e,"arrCenterSpFrame",we,a(e)),o(e,"arrFishSpFrame",Se,a(e)),o(e,"arrTipBgSpFrame",ke,a(e)),o(e,"arrDownSpFrame",Le,a(e)),o(e,"Node_roomBg",Te,a(e)),o(e,"Sprite_bg",Ae,a(e)),o(e,"Node_public",xe,a(e)),o(e,"Node_info",Ee,a(e)),o(e,"Label_totalWinBig",Fe,a(e)),o(e,"scatter_wait_root",We,a(e)),o(e,"scatter_wait",Oe,a(e)),o(e,"Node_freeInfo",Re,a(e)),o(e,"addFreeMask",ze,a(e)),e.arrTitle=[],e.betMin=0,e.betMax=0,e.isInit=!1,e.cmaskOpacity=100,e.isStopBigWin=!1,e}e(i,t);var c=i.prototype;return c.onLoad=function(){if(t.prototype.onLoad.call(this,I.instance),this.initUIView(),this.arrTitle=["rfs","lfs"],T.instance.sendOnlineData(k.instance.protocolHall.getWallet,{}),!D.instance.isChangeOrientation()){var e=f.getFrameSize();e.width/e.height>750/1334&&(this.Node_action.setPosition(this.Node_action.position.x,this.Node_action.position.y+15),this.Node_menu.setPosition(this.Node_menu.position.x,this.Node_menu.position.y+15),this.Button_menu.node.setPosition(this.Button_menu.node.position.x,this.Button_menu.node.position.y+15),this.Button_run.node.setPosition(this.Button_run.node.position.x,this.Button_run.node.position.y+15))}},c.onEnable=function(){var e=this;t.prototype.onEnable.call(this),L.instance.on(k.instance.eventTransform.disConnect,this.disconnect,this),L.instance.on(k.instance.eventTransform.gameShow,this.gameShow,this),L.instance.on(A.onCatNumMove,this.onCatNumMove,this),L.instance.on(A.onSetMask,this.onSetMask,this),L.instance.on(A.updateBaseBet,this.updateBaseBet,this),L.instance.on(A.onSymbolClick,(function(t,n,i){e.Node_info.node.active=!0,e.Node_info.showSymbolInfo(t,n,i)}),this),L.instance.on(A.onSetAuto,(function(t){t&&t>0&&(z.instance.autoTimes=t,z.instance.isAuto=!0,e.Button_run.interactable=!0,e.Button_run.node.emit("pauseEffect"),e.Button_run.node.getComponent(Q).switchAni("push2"),e.Skeleton_run.setAnimation(0,"auto",!0),z.instance.gameStatus==x.NONE&&e.scheduleOnce((function(){I.instance.reqBet()}),.5));e.Button_auto.interactable=!z.instance.isAuto,e.Label_autoTimes.node.active=z.instance.isAuto,D.instance.updateLabel(e.Label_autoTimes,z.instance.autoTimes)}),this),L.instance.on(A.onAutoClose,(function(t){z.instance.autoTimes=0,z.instance.isAuto=!1,e.Skeleton_run.setCompleteListener(null),e.Skeleton_run.setAnimation(0,"idle",!0),e.Button_run.interactable=!0,e.Button_run.node.emit("resumeEffect"),e.Button_run.node.getComponent(Q).switchAni(),e.Button_auto.interactable=!0,e.Label_autoTimes.node.active=!1,D.instance.updateLabel(e.Label_autoTimes,z.instance.autoTimes)}),this)},c.onDisable=function(){t.prototype.onDisable.call(this),L.instance.off(k.instance.eventTransform.disConnect,this.disconnect,this),L.instance.off(k.instance.eventTransform.gameShow,this.gameShow,this),L.instance.off(A.onCatNumMove,this.onCatNumMove,this),L.instance.off(A.onSetMask,this.onSetMask,this),L.instance.off(A.updateBaseBet,this.updateBaseBet,this),L.instance.off(A.onSymbolClick),z.instance.clearGameData()},c.onDestroy=function(){t.prototype.onDestroy.call(this)},c.start=function(){},c.disconnect=function(){q.showNetTips()},c.gameHide=function(){T.instance.removeWaitServicePush()},c.gameShow=function(){T.instance.waitServiceSendData(),this.scheduleOnce((function(){q.showLog(""),1==T.instance._connect&&(z.instance.isAuto||I.instance.isReqBet)&&I.instance.reqBet()}),.1)},c.updateBaseBet=function(){var t=this;z.instance.curBet=z.instance.baseBetList[z.instance._curIndex_baseBet]/E.moneyRatio,b(this.Label_bet.node).to(.1,{scale:g(1.2,1.2,1)}).call((function(){t.Label_bet.string=D.instance.curBetFormat(z.instance.curBet)})).to(.1,{scale:g(1,1,1)}).start(),this.Button_redus.interactable=z.instance.curBet>this.betMin,this.Button_add.interactable=z.instance.curBet<this.betMax,this.Button_redus.node.getComponent(N).opacity=this.Button_redus.interactable?255:100,this.Button_add.node.getComponent(N).opacity=this.Button_add.interactable?255:100},c.initUIView=function(){I.instance.reqEnterRoom(),this.Button_run.interactable=!1,this.betMin=z.instance.baseBetList[0]/E.moneyRatio,this.betMax=z.instance.baseBetList[z.instance.baseBetList.length-1]/E.moneyRatio,this.updateViewInfo(),this.Label_bet.string=D.instance.curBetFormat(z.instance.curBet),this.Label_win.string=D.instance.moneyFormat(0),this.updateGold()},c.bottomAnimation=function(t){var e=this;y.stopAllByTarget(this.Node_action),y.stopAllByTarget(this.Node_menu);t?(b(this.Node_action).to(.2,{position:g(0,-265,1)}).start(),b(this.Node_action.getComponent(N)).to(.2,{opacity:255}).call((function(){e.Node_action.active=!0})).start(),b(this.Node_menu).to(.2,{position:g(0,-460,1)}).start(),b(this.Node_menu.getComponent(N)).to(.2,{opacity:0}).call((function(){e.Node_menu.active=!1})).start()):(b(this.Node_action).to(.2,{position:g(0,-460,1)}).start(),b(this.Node_action.getComponent(N)).to(.2,{opacity:0}).call((function(){e.Node_action.active=!1})).start(),b(this.Node_menu).to(.2,{position:g(0,-265,1)}).start(),b(this.Node_menu.getComponent(N)).to(.2,{opacity:255}).call((function(){e.Node_menu.active=!0})).start())},c.onBtnClick=function(t){var e=this;switch(t.target.name){case"Button_fast":z.instance.isQuickStop=!z.instance.isQuickStop;var n=t.target.getChildByName("btn_turbo").getComponent(_.Skeleton);z.instance.isQuickStop?(n.setAnimation(0,"intro_on",!1),n.addAnimation(0,"on",!0)):n.setAnimation(0,"off",!0);break;case"Button_auto":z.instance.isAuto?this.Button_auto.interactable=!0:q.loadPopBuddle("prefab/Node_setAuto",D.instance.bundle,(function(){}),(function(t){var e=B(t);M.instance.popNodeView(e,!0)}),!0);break;case"Node_bigWinEffect":this.isStopBigWin=!0;break;case"Button_audio":this.Button_soundon.active=!this.Button_soundon.active,this.Button_soundoff.active=!this.Button_soundoff.active,this.ic_soundoff_off.active=this.Button_soundoff.active,U.instance.setVolume(this.Button_soundon.active?1:0);break;case"Button_buy":if(z.instance.gameStatus!=x.NONE||z.instance.isAuto)return;var i=50*z.instance.curBet*E.moneyRatio;if(z.instance.curBalance<i)return void q.showTip(G.lang[10001],!D.instance.isChangeOrientation());D.instance.playOneShot(F.featureBuyBtn),q.loadPopBuddle("prefab/Node_buyReward",D.instance.bundle,(function(){}),(function(t){var e=B(t);M.instance.popNodeView(e,!0)}),!0);break;case"Button_close":this.bottomAnimation(!0);break;case"Button_menu":this.bottomAnimation(!1);break;case"Button_return":I.instance.reqExit(),L.instance.emit(A.onLoadHall);break;case"Button_history":q.loadPopBuddle("prefab/Node_history",D.instance.bundle,(function(){}),(function(t){var e=B(t);M.instance.popNodeView(e,!0)}),!0);break;case"Button_rank":q.loadPopBuddle("prefab/Node_rank",D.instance.bundle,(function(){}),(function(t){var e=B(t);M.instance.popNodeView(e,!0)}),!0);break;case"Button_help":q.loadPopBuddle("prefab/Node_help",D.instance.bundle,(function(){}),(function(t){var e=B(t);M.instance.popNodeView(e,!0)}),!0);break;case"Button_redus":if(z.instance.gameStatus!=x.NONE||z.instance.isAuto)return;z.instance._curIndex_baseBet--,z.instance._curIndex_baseBet<0&&(z.instance._curIndex_baseBet=0),z.instance._curIndex_baseScore=Math.floor(z.instance._curIndex_baseBet/10),z.instance._curIndex_baseRate=z.instance._curIndex_baseBet%10,z.instance.curBet=z.instance.baseBetList[z.instance._curIndex_baseBet]/E.moneyRatio,b(this.Label_bet.node).to(.1,{scale:g(1.2,1.2,1)}).call((function(){e.Label_bet.string=D.instance.curBetFormat(z.instance.curBet)})).to(.1,{scale:g(1,1,1)}).start(),this.Button_redus.interactable=z.instance.curBet>this.betMin,this.Button_add.interactable=z.instance.curBet<this.betMax,this.Button_redus.node.getComponent(N).opacity=this.Button_redus.interactable?255:100,this.Button_add.node.getComponent(N).opacity=this.Button_add.interactable?255:100;break;case"Button_add":if(z.instance.gameStatus!=x.NONE||z.instance.isAuto)return;z.instance._curIndex_baseBet++,z.instance._curIndex_baseBet>29&&(z.instance._curIndex_baseBet=29),z.instance._curIndex_baseScore=Math.floor(z.instance._curIndex_baseBet/10),z.instance._curIndex_baseRate=z.instance._curIndex_baseBet%10,z.instance.curBet=z.instance.baseBetList[z.instance._curIndex_baseBet]/E.moneyRatio,b(this.Label_bet.node).to(.1,{scale:g(1.2,1.2,1)}).call((function(){e.Label_bet.string=D.instance.curBetFormat(z.instance.curBet)})).to(.1,{scale:g(1,1,1)}).start(),this.Button_redus.interactable=z.instance.curBet>this.betMin,this.Button_add.interactable=z.instance.curBet<this.betMax,this.Button_redus.node.getComponent(N).opacity=this.Button_redus.interactable?255:100,this.Button_add.node.getComponent(N).opacity=this.Button_add.interactable?255:100;break;case"Button_run":if(z.instance.isAuto){z.instance.isAuto=!1,z.instance.autoTimes=0,this.Label_autoTimes.node.active=z.instance.isAuto,D.instance.updateLabel(this.Label_autoTimes,z.instance.autoTimes),(z.instance.gameStatus=x.NONE)?(this.Skeleton_run.setAnimation(0,"idle",!0),this.Button_run.node.emit("resumeEffect"),this.Button_auto.interactable=!0):(this.Skeleton_run.addAnimation(0,"stop",!0),this.Button_run.interactable=!1,this.Button_run.node.emit("pauseEffect"),this.Button_auto.interactable=!1),this.Button_run.node.getComponent(Q).switchAni();break}if(I.instance.isReqBet)break;if(z.instance.gameStatus==x.NONE){var o=z.instance.curBet*E.moneyRatio;if(z.instance.curBalance<o)return void q.showTip(G.lang[10001],!D.instance.isChangeOrientation());this.Skeleton_run.setAnimation(0,"spin",!1),this.Skeleton_run.addAnimation(0,"idle",!0),I.instance.reqBet()}break;case"Button_setBase":if(z.instance.totalFreeTimes>0||z.instance.freeStatus!=x.NONE||z.instance.gameStatus!=x.NONE||z.instance.isAuto)return;q.loadPopBuddle("prefab/Node_setBase",D.instance.bundle,(function(){}),(function(t){var e=B(t);M.instance.popNodeView(e,!0)}),!0);break;case"Button_start":D.instance.playOneShot(F.uiStart),this.doEnterFree();break;case"Button_exit":this.hideFree()}},c.onSetMask=function(t,e){if(0!=t){gts.Debug.Log("==onSetMask=posX="+e);var n=t+1;if(n<this.Coaster_symbolList.length-2){if(!this.Node_colEffect.active)this.Node_colEffect.active=!0,this.Node_colEffect.getComponent(N).opacity=0,b(this.Node_colEffect.getComponent(N)).to(.2,{opacity:255}).start(),this.Node_mask_1_6.active=!0,this.Node_mask_1_6.getComponent(N).opacity=0,b(this.Node_mask_1_6.getComponent(N)).to(.2,{opacity:this.cmaskOpacity}).start(),this.Node_mask_7.active=!0,this.Node_mask_7.getComponent(N).opacity=0,b(this.Node_mask_7.getComponent(N)).to(.2,{opacity:this.cmaskOpacity}).start(),this.Node_mask_8.active=!0,this.Node_mask_8.getComponent(N).opacity=0,b(this.Node_mask_8.getComponent(N)).to(.2,{opacity:this.cmaskOpacity}).start(),D.instance.playSound(F.fastspinStart,!0),this.Node_helpTip.getComponent(Y).doShow(1);z.instance.curSpecialStartCol=n,this.Node_colEffect.getComponent(v).priority=W.SPECIAL-2*(n-1),this.Node_colEffect.setPosition(this.Coaster_symbolList[n].node.getPosition().x,this.Node_colEffect.position.y)}}},c.showMask=function(t){var e=this;if(void 0===t&&(t=!0),!t)return this.Node_mask_7.active&&b(this.Node_mask_7.getComponent(N)).stop().to(.2,{opacity:0}).call((function(){e.Node_mask_7.active=!1})).start(),this.Node_mask_8.active&&b(this.Node_mask_8.getComponent(N)).stop().to(.2,{opacity:0}).call((function(){e.Node_mask_8.active=!1})).start(),void(this.Node_mask_1_6.active&&b(this.Node_mask_1_6.getComponent(N)).stop().to(.2,{opacity:0}).call((function(){e.Node_mask_1_6.active=!1})).start());this.Node_mask_7.active||(this.Node_mask_7.active=!0,this.Node_mask_7.getComponent(N).opacity=0,b(this.Node_mask_7.getComponent(N)).stop().to(.2,{opacity:this.cmaskOpacity}).start()),this.Node_mask_8.active||(this.Node_mask_8.active=!0,this.Node_mask_8.getComponent(N).opacity=0,b(this.Node_mask_8.getComponent(N)).stop().to(.2,{opacity:this.cmaskOpacity}).start()),this.Node_mask_1_6.active||(this.Node_mask_1_6.active=!0,this.Node_mask_1_6.getComponent(N).opacity=0,b(this.Node_mask_1_6.getComponent(N)).stop().to(.2,{opacity:this.cmaskOpacity}).start())},c.doStartRun=function(){var t=this;if(z.instance.gameStatus==x.NONE)if(this.Button_auto.interactable=!1,this.Button_add.interactable=!1,this.Button_redus.interactable=!1,this.Button_menu.interactable=!1,this.Node_info.node.active=!1,this.Label_way.string="...",this.Node_helpTip.active=!0,this.Node_winTip.active=!1,this.Button_buy.interactable=!1,this.Button_buy.getComponent(N).opacity=this.Button_buy.interactable?255:100,this.Button_redus.node.getComponent(N).opacity=this.Button_redus.interactable?255:100,this.Button_add.node.getComponent(N).opacity=this.Button_add.interactable?255:100,this.Button_menu.node.getComponent(N).opacity=this.Button_menu.interactable?255:100,this.Button_auto.node.getComponent(N).opacity=this.Button_auto.interactable?255:100,this.Node_tipEffect.setAnimation(0,"normal_p",!0),z.instance.curTotalWin=0,z.instance.freeStatus==x.NONE?(this.setRateState(),this.Label_win.string=D.instance.moneyFormat(0),L.instance.emit(A.updateWin,0)):this.setRateState(!0,z.instance.totalRate),this.Label_gold.color=C(255,255,255,255),this.Label_bet.color=C(255,255,255,255),this.Label_win.color=C(255,255,255,255),this.Node_effectRoot.removeAllChildren(),n(s().mark((function e(){var n,i,o,a,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=[],i=0;i<t.Coaster_symbolList.length;i++)o=z.instance.isQuickStop&&z.instance.freeStatus==x.NONE?R.cQuickStopStartDelay:i*R.cStartDelay,a=z.instance.isQuickStop&&z.instance.freeStatus==x.NONE?R.cQuickStopDelay:R.cStopDelay+i*R.cStartDelay,r=a,a+=z.instance.specialStartCol>0&&i>z.instance.specialStartCol?R.cSpecialDuration*(i-z.instance.specialStartCol):0,n.push(t.Coaster_symbolList[i].doStart(o,a,r));return e.next=4,Promise.all(n);case 4:t.scheduleOnce(t.doRunEnd,0);case 5:case"end":return e.stop()}}),e)})))(),z.instance.gameStatus=x.RUNNING,z.instance.isAuto||"start"==this.Skeleton_run.animation||(this.Skeleton_run.setAnimation(0,"start",!1),this.Skeleton_run.addAnimation(0,"idle",!0)),z.instance.freeStatus==x.RUNNING){var e=this.Node_freeInfo.getChildByName("Label_freeTimes");if(z.instance.totalFreeTimes>0)e.getComponent(p).string=""+z.instance.totalFreeTimes;else this.Node_freeInfo.getChildByName("Sprite_title").getComponent(X).key=this.arrTitle[1],e.active=!1}else D.instance.playOneShot(F.spinBtn),z.instance.autoTimes--,D.instance.updateLabel(this.Label_autoTimes,z.instance.autoTimes)},c.doAwait=function(t){var e=this;return new Promise((function(n,i){e.scheduleOnce((function(){n()}),t)}))},c.setWays=function(t){for(var e=1,n=0;n<t.openNum.length-2;n++)e*=n>0&&n<5?t.openNum[n].length+2:t.openNum[n].length;z.instance.isQuickStop&&z.instance.freeStatus==x.NONE?(D.instance.playOneShot(F.spinStopQuick),this.Label_way.string=""+e):D.instance.updateLabelNomal(this.Label_way,e,!1,.05)},c.setTipEffect=function(t,e){void 0===e&&(e=!1),t<5?(this.Node_tipEffect.setAnimation(0,"normal_win",!1),this.Node_tipEffect.addAnimation(0,"normal_p",!0),D.instance.playOneShot(F.prizeSmallwin)):t<60?(this.Node_tipEffect.setAnimation(0,"bigwin_win",!1),this.Node_tipEffect.addAnimation(0,"bigwin_p",!0),e&&t<20&&D.instance.playSound(F.prizeInfobarTotalwinMedMain,!1,(function(){D.instance.playOneShot(F.prizeInfobarTotalwinMedEnd)}))):(this.Node_tipEffect.setAnimation(0,"bigwin2_win",!1),this.Node_tipEffect.addAnimation(0,"bigwin2_p",!0))},c.doRunEnd=function(){var t=n(s().mark((function t(){var e,n,i,o,a,c,u,l,d,m,h,f,y,v,w,S,k=this;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:gts.Debug.Log("======doRunEnd======="),this.isStopBigWin=!1,z.instance.gameStatus=x.CLEAR,z.instance.isAuto||(this.Button_run.interactable=!1,this.Skeleton_run.setAnimation(0,"stop",!0)),this.Node_colEffect.active&&(D.instance.stopSound(F.fastspinStart),D.instance.playOneShot(F.fastspinStop),b(this.Node_colEffect.getComponent(N)).to(.2,{opacity:0}).call((function(){(k.Node_colEffect.active=!1,k.Node_tipEffect.setAnimation(0,"normal_p",!0),0==z.instance.totalFreeTimes)&&k.Node_helpTip.getComponent(Y).doShow()})).start()),z.instance.specialStartCol=0,z.instance.curTotalWin=0,e=z.instance.betResult.OpenNums,this.setWays(e[0]),n=s().mark((function t(){var n,o,a,c,u,l,d,p,m,h,f,b,g,N,y,v,C,w,S,T,W,O,R,I,M,G,H,q,U,Q,X;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e[i],z.instance.arrColWild=D.instance.checkColWild(n),!(z.instance.arrColWild.length>0)){t.next=8;break}for(D.instance.playOneShot(F.symWildExpand),o=[],a=r(z.instance.arrColWild);!(c=a()).done;)for(u=c.value,l=k.Coaster_symbolList[u],d=0;d<l.symbolList.length;d++)(p=l.symbolList[d]).itemInfo.num=n.openNum[u][d].num,p.itemInfo.remove=n.openNum[u][d].remove,p.itemInfo.count=n.openNum[u][d].count,o.push(p.doWildOpen(p.itemInfo.num));return t.next=8,Promise.all(o);case 8:if(!(n.prizeAmount>0)){t.next=77;break}for(m=e[i+1],k.showMask(),n.odds>1?(k.Node_helpTip.active=!1,k.Node_winTip.active=!0,k.Node_winTip.getComponent(P).doShow(n.prizeAmount/n.odds),k.setRateState(!0,n.odds,(function(){var t=n.prizeAmount/(z.instance.curBet*E.moneyRatio);k.setTipEffect(t),k.Node_helpTip.active=!1,k.Node_winTip.active=!0,k.Node_winTip.getComponent(P).doShow(n.prizeAmount,1)}))):(h=n.prizeAmount/(z.instance.curBet*E.moneyRatio),k.setTipEffect(h),k.Node_helpTip.active=!1,k.Node_winTip.active=!0,k.Node_winTip.getComponent(P).doShow(n.prizeAmount,1)),f=[],b=0;b<k.Coaster_symbolList.length;b++)f.push(k.Coaster_symbolList[b].doEffect());return t.next=16,Promise.all(f);case 16:for(z.instance.curTotalWin+=n.prizeAmount,z.instance.freeStatus!=x.NONE&&(z.instance.totalFreeWin+=n.prizeAmount),g=z.instance.freeStatus!=x.NONE?z.instance.totalFreeWin:z.instance.curTotalWin,D.instance.updateLabelAddNf(k.Label_win,g,!1,g-n.prizeAmount),L.instance.emit(A.updateWin,g),k.showMask(!1),f=[],N=0;N<k.Coaster_symbolList.length;N++)f.push(k.Coaster_symbolList[N].doClear());return t.next=26,Promise.all(f);case 26:if(y=0,!(D.instance.checkScatter(n)>0)){t.next=69;break}v=s().mark((function t(){var e,n,i,o,a,c,u,l,d;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(e=k.Coaster_symbolList[C],n=0,i=r(e.symbolList);!(o=i()).done;)(a=o.value).isClear||(n+=a.itemInfo.count);if(!(n<e.maxIndex)){t.next=20;break}if(c=e.maxIndex-n,!e.isHorizontal){t.next=15;break}u=s().mark((function t(){var i;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(i=k.scatter_wait_root.getChildByName("scatter_wait_"+(20*C+l)))||((i=B(k.scatter_wait)).name="scatter_wait_"+(20*C+l),k.scatter_wait_root.addChild(i)),n++,e.setSymbolWaitPos(i,n-1,c-l-1,!1),i.active=!0,k.scheduleOnce((function(){var t=e.isHorizontal?"L":"lv"+c;i.getComponent(_.Skeleton).setAnimation(0,t,!0)}));case 6:case"end":return t.stop()}}),t)})),l=0;case 8:if(!(l<c)){t.next=13;break}return t.delegateYield(u(),"t0",10);case 10:l++,t.next=8;break;case 13:t.next=20;break;case 15:(d=k.scatter_wait_root.getChildByName("scatter_wait_"+C))||((d=B(k.scatter_wait)).name="scatter_wait_"+C,k.scatter_wait_root.addChild(d)),e.setSymbolWaitPos(d,n,c,!1),d.active=!0,k.scheduleOnce((function(){var t=e.isHorizontal?"L":"lv"+c;d.getComponent(_.Skeleton).setAnimation(0,t,!0)}));case 20:case"end":return t.stop()}}),t)})),C=0;case 30:if(!(C<k.Coaster_symbolList.length)){t.next=35;break}return t.delegateYield(v(),"t0",32);case 32:C++,t.next=30;break;case 35:for(f=[],V.dropCounts=0,w=0;w<k.Coaster_symbolList.length;w++)f.push(k.Coaster_symbolList[w].doDropFront(m,0,!0,n));return t.next=40,Promise.all(f);case 40:for(k.showMask(!0),k.Node_helpTip.active=!0,k.Node_winTip.active=!1,(S=k.Node_helpTip.getComponent(Y)).doShow(1),D.instance.playSound(F.heartbeat,!0),D.instance.playOneShot(F.heartbeatNoise),f=[],T=0;T<k.Coaster_symbolList.length;T++)for(W=k.Coaster_symbolList[T],O=r(W.symbolList);!(R=O()).done;)(I=R.value)&&f.push(I.doScatterEffect());return t.next=51,Promise.all(f);case 51:return t.next=53,k.doAwait(1);case 53:for(k.showMask(!1),y=.3,V.dropCounts=0,f=[],M=0;M<k.Coaster_symbolList.length;M++)f.push(k.Coaster_symbolList[M].doDropFront(m,y,!1,n));return t.next=60,Promise.all(f);case 60:return k.scatter_wait_root.destroyAllChildren(),D.instance.playOneShot(F.heartbeatSlowdrop),t.next=64,k.doAwait(1);case 64:if(D.instance.stopSound(F.heartbeat),S.doShow(),z.instance.totalFreeTimes>0)for(G=0;G<k.Coaster_symbolList.length;G++)for(H=k.Coaster_symbolList[G],q=r(H.symbolList);!(U=q()).done;)(Q=U.value)&&Q.doScatterAni();t.next=73;break;case 69:for(f=[],X=0;X<k.Coaster_symbolList.length;X++)f.push(k.Coaster_symbolList[X].doDrop(m,n));return t.next=73,Promise.all(f);case 73:gts.Debug.Log("==========doDrop========"),k.setWays(m),t.next=78;break;case 77:z.instance.freeStatus!=x.NONE?z.instance.curTotalWin>0&&(k.setRateState(!1,n.odds),z.instance.totalRate=n.odds):z.instance.curTotalWin>0&&k.setRateState(!1,n.odds);case 78:case"end":return t.stop()}}),t)})),i=0;case 11:if(!(i<e.length)){t.next=16;break}return t.delegateYield(n(),"t0",13);case 13:i++,t.next=11;break;case 16:if(this.showMask(!1),o=.25,!(z.instance.freeStatus!=x.NONE&&z.instance.totalFreeTimes<z.instance.betResult.freeInfo.surplusFreeCount)){t.next=32;break}return a=z.instance.betResult.freeInfo.surplusFreeCount-z.instance.totalFreeTimes,this.addFreeMask.active=!0,(c=this.addFreeMask.getChildByName("free_add").getComponent(_.Skeleton)).setAnimation(0,"intro",!1),c.addAnimation(0,"idle",!0),this.addFreeMask.getChildByName("Label_addNum").getComponent(p).string=""+a,u=this.addFreeMask.getChildByName("free_light").getComponent(_.Skeleton),l=0,d=this.Node_freeInfo.getChildByName("Label_freeTimes"),b(d).delay(.2).to(.1,{scale:g(1.2,1.2,1)}).call((function(){l++,u.node.active=!0,u.setAnimation(0,"idle",!1),D.instance.playOneShot(F.fsWonRemainingIncrease),d.getComponent(p).string=""+(z.instance.totalFreeTimes+l)})).to(.1,{scale:g(1,1,1)}).union().repeat(a).delay(.5).call((function(){k.addFreeMask.active=!1,z.instance.totalFreeTimes=z.instance.betResult.freeInfo.surplusFreeCount,d.getComponent(p).string=""+z.instance.totalFreeTimes})).start(),t.next=32,this.doAwait(.4*a+.5);case 32:if(z.instance.isAuto=z.instance.autoTimes>0,z.instance.isAuto?this.Button_run.interactable=!0:(this.Skeleton_run.setCompleteListener(null),this.Skeleton_run.setAnimation(0,"idle",!0),0==z.instance.totalFreeTimes&&(this.Button_run.interactable=!0,this.Button_run.node.emit("resumeEffect")),this.Button_buy.interactable=!0,this.Button_buy.getComponent(N).opacity=255,this.Button_run.node.getComponent(Q).switchAni(),this.Button_auto.interactable=!0,this.Label_autoTimes.node.active=!1,D.instance.updateLabel(this.Label_autoTimes,z.instance.autoTimes)),!(z.instance.curTotalWin>0)){t.next=44;break}return t.next=37,this.doShowBigWin(z.instance.curTotalWin);case 37:this.Node_helpTip.active=!1,this.Node_winTip.active=!0,this.Node_winTip.getComponent(P).doShow(z.instance.curTotalWin,2),m=z.instance.curTotalWin/(z.instance.curBet*E.moneyRatio),this.setTipEffect(m,!0),o=1;case 44:if(z.instance.endBalance>0&&(z.instance.curBalance=z.instance.endBalance,z.instance.endBalance=0,this.updateGold()),z.instance.gameStatus=x.NONE,this.Button_buy.node.active||z.instance.freeStatus!=x.NONE||(h=this.Button_buy.node.getPosition().y,this.Button_buy.node.setPosition(this.Button_buy.node.position.x,this.Button_buy.node.position.y-30),this.Button_buy.node.getComponent(N).opacity=0,this.Button_buy.node.active=!0,b(this.Button_buy.node).to(.2,{position:g(this.Button_buy.node.position.x,h)}).start(),b(this.Button_buy.node.getComponent(N)).to(.2,{opacity:255}).start()),z.instance.freeStatus==x.NONE){t.next=52;break}this.Node_bigWin.active=!1,z.instance.totalFreeTimes>0?this.scheduleOnce((function(){I.instance.reqBet()}),o):(z.instance.freeStatus=x.END,this.doEndFree()),t.next=64;break;case 52:if(!(z.instance.totalFreeTimes>0)){t.next=63;break}for(D.instance.playOneShot(F.scatterWinHighlight),this.Node_helpTip.getComponent(Y).doShow(2),f=[],y=0;y<this.Coaster_symbolList.length;y++)for(v=r(this.Coaster_symbolList[y].symbolList);!(w=v()).done;)S=w.value,f.push(S.doScatterAni());return t.next=60,Promise.all(f);case 60:this.showFree(),t.next=64;break;case 63:z.instance.isAuto&&this.scheduleOnce((function(){I.instance.reqBet()}),o);case 64:this.scheduleOnce((function(){z.instance.isAuto||z.instance.freeStatus==x.RUNNING?(k.Label_gold.color=C(255,255,255,255),k.Label_bet.color=C(255,255,255,255),k.Label_win.color=C(255,255,255,255)):(k.Label_gold.color=C(150,220,255,255),k.Label_bet.color=C(150,220,255,255),k.Label_win.color=C(150,220,255,255),k.Button_menu.interactable=!0,k.Button_redus.interactable=z.instance.curBet>k.betMin,k.Button_add.interactable=z.instance.curBet<k.betMax,k.Button_auto.interactable=!0,k.Button_buy.getComponent(N).opacity=k.Button_buy.interactable?255:100,k.Button_redus.node.getComponent(N).opacity=k.Button_redus.interactable?255:100,k.Button_add.node.getComponent(N).opacity=k.Button_add.interactable?255:100,k.Button_menu.node.getComponent(N).opacity=k.Button_menu.interactable?255:100,k.Button_auto.node.getComponent(N).opacity=k.Button_auto.interactable?255:100)}),z.instance.curTotalWin>0?.25:0);case 65:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),c.doShowBigWin=function(t,e){var n=this;return void 0===e&&(e=.5),new Promise((function(i,o){var a=t/(z.instance.curBet*E.moneyRatio);t<=1||a<20?i():n.scheduleOnce((function(){n.Node_bigWin.parent=n.node,n.Node_bigWin.getComponent(v).priority=52,n.Node_bigWin.active=!0,n.Node_bigWin.scale=g(.5,.5,1);var e=n.Node_bigWin.getChildByName("Node_title"),o=n.Node_bigWin.getChildByName("Node_bigWinEffect").getComponent(_.Skeleton);e.children.forEach((function(t){t.active=!1}));var s=a<35?0:a<50?1:2,r=["bw","mw","smw"];e.children.forEach((function(t){t.name===r[s]&&(t.active=!0)}));var c=o.setAnimation(0,["bigwin","megawin","superwin"][s]+"_intro",!1);o.addAnimation(0,["bigwin_idle","megawin_idle","superwin_idle"][s],!0),b(n.Node_bigWin).to(.1,{scale:g(1.2,1.2,1)},{easing:"quadOut"}).to(.05,{scale:g(1,1,1)},{easing:"quadIn"}).call((function(){D.instance.playSound(F.bigWin);var e=c.animation.duration/.05,a=Math.floor(t/e),r=0;b(n.Label_totalWinBig.node).repeatForever(b(n.Label_totalWinBig.node).delay(.05).call((function(){var e=function(e){void 0===e&&(e=1);var a=["bigwin_idle","megawin_idle","superwin_idle"];n.isStopBigWin&&o.animation!=a[s]&&(o.setAnimation(0,a[s],!0),e=2),n.isStopBigWin=!1,D.instance.stopSound(F.bigWin),D.instance.playSound(F.bigWinEnd),y.stopAllByTarget(n.Node_bigWin),y.stopAllByTarget(n.Label_totalWinBig.node),r=t,b(n.Node_bigWin).delay(e).call((function(){n.Node_bigWin.active=!1,i()})).start();var c=q.numFormat(r/E.moneyRatio),u=D.instance.numberFormatD(r/E.moneyRatio,2);n.Label_totalWinBig.string=""+c+u};if(r<t)if((r+=a)>=t){r=t,e(z.instance.isAuto||z.instance.freeStatus==x.NONE?2:4);var c=q.numFormat(r/E.moneyRatio),u=D.instance.numberFormatD(r/E.moneyRatio,2);n.Label_totalWinBig.string=""+c+u}else{var l=q.numFormat(r/E.moneyRatio),d=D.instance.numberFormatFloatD(r/E.moneyRatio,2);n.Label_totalWinBig.string=""+l+d}n.isStopBigWin&&e()}))).start()})).start()}),e)}))},c.hideFree=function(){var t=this;this.unschedule(this.hideFree),z.instance.freeStatus=x.NONE,z.instance.totalFreeTimes=0,z.instance.totalRate=1,U.instance.resumeMusic(),D.instance.stopSound(F.freeEndMain),D.instance.stopSound(F.freeEnd),z.instance.isAuto||(this.Button_auto.interactable=!0,this.Button_menu.interactable=!0,this.Button_redus.interactable=z.instance.curBet>this.betMin,this.Button_add.interactable=z.instance.curBet<this.betMax,this.Button_buy.getComponent(N).opacity=this.Button_buy.interactable?255:100,this.Button_redus.node.getComponent(N).opacity=this.Button_redus.interactable?255:100,this.Button_add.node.getComponent(N).opacity=this.Button_add.interactable?255:100,this.Button_menu.node.getComponent(N).opacity=this.Button_menu.interactable?255:100,this.Button_auto.node.getComponent(N).opacity=this.Button_auto.interactable?255:100),b(this.Node_free.getComponent(N)).to(.2,{opacity:0}).call((function(){if(t.Node_free.getChildByName("Node_enter").active=!1,t.Node_public.active=!0,t.Node_public.setPosition(t.Node_public.position.x,-388),t.Node_free.getChildByName("Node_end").active=!1,t.Node_bigWin.active=!1,z.instance.totalFreeWin>0){t.Node_helpTip.active=!1,t.Node_winTip.active=!0,t.Node_winTip.getComponent(P).doShow(z.instance.totalFreeWin,2);var e=z.instance.totalFreeWin/(z.instance.curBet*E.moneyRatio);t.setTipEffect(e,!0)}})).delay(.5).call((function(){t.Node_free.active=!1,z.instance.isAuto&&t.scheduleOnce((function(){I.instance.reqBet()}),.25)})).start()},c.showFree=function(t){var e=this;if(void 0===t&&(t=!1),!this.Node_free.active){this.Node_free.active=!0;var n=t?0:1;t||D.instance.playOneShot(F.fsTrans),this.scheduleOnce((function(){e.Label_gold.color=C(255,255,255,255),e.Label_bet.color=C(255,255,255,255),e.Label_win.color=C(255,255,255,255),U.instance.pauseMusic(),e.Node_public.setPosition(e.Node_public.position.x,-635),t?e.doEnterFree(1):e.setEnterFree()}),n)}},c.setEndFree=function(){this.Sprite_bg.spriteFrame=this.arrBgSpFrame[0],this.free_bglight.active=!1,this.Node_action.active=!0,this.Node_menu.active=!1,this.Button_menu.node.active=!0,this.Button_run.node.active=!0,this.Button_buy.node.active=!0},c.setEnterFree=function(){var t=this;this.Node_free.active=!0,this.Node_free.getComponent(N).opacity=255;var e=w("Node_enter/Button_start",this.Node_free);e.active=!1;var n=this.Node_free.getChildByName("Node_enter");n.getComponent(N).opacity=0,n.scale=g(.75,.75,.75),n.active=!0,b(n).to(.25,{scale:g(1,1,1)}).start(),b(n.getComponent(N)).to(.25,{opacity:255}).start();var i=n.getChildByName("Label_freeTimes");i.active=!0,i.getComponent(p).string=""+z.instance.totalFreeTimes;var o=n.getChildByName("Node_Enterbg");o.getComponent(_.Skeleton).setAnimation(0,"intro",!1),o.getComponent(_.Skeleton).addAnimation(0,"idle",!0);var a=w("Node_enter/Node_progress",this.Node_free);a.active=!0;var s=w("Node_enter/Node_progress/Label_percent",this.Node_free).getComponent(p);s.string="0%",this.Node_helpTip.active=!0,this.Node_winTip.active=!1,this.Node_tipEffect.setAnimation(0,"normal_p",!0),this.setRateState(),D.instance.playOneShot(F.fsWonTitle);var r=0;b(s).delay(.1).call((function(){r=(r+=5)>100?100:r,s.string=r+"%"})).union().repeat(20).call((function(){e.active=!0,e.scale=g(.25,.25,.25),b(e).to(.15,{scale:g(1.2,1.2,1.2)}).to(.15,{scale:g(1,1,1)}).start(),a.active=!1,t.scheduleOnce(t.doEnterFree,3)})).start(),z.instance.totalFreeWin=0},c.doEnterFree=function(t){var e=this;if(void 0===t&&(t=0),z.instance.freeStatus==x.NONE){z.instance.freeStatus=x.RUNNING,this.unschedule(this.doEnterFree),this.Node_helpTip.getComponent(Y).doShow();this.Node_free.getChildByName("Node_enter").active=!1,function(){e.Node_info.node.active=!1,e.Sprite_bg.spriteFrame=e.arrBgSpFrame[1],e.free_bglight.active=!0,e.Node_action.active=!1,e.Node_menu.active=!1,e.Button_menu.node.active=!1,e.Button_run.node.active=!1,e.Button_buy.node.active=!1,e.Node_freeInfo.active=!0;var n=e.Node_freeInfo.getChildByName("Label_freeTimes");n.active=!0,n.getComponent(p).string=""+z.instance.totalFreeTimes,e.Node_freeInfo.getChildByName("Sprite_title").getComponent(X).key=e.arrTitle[0],e.Label_curRate.getComponent(p).string="x"+z.instance.totalRate,U.instance.resumeMusic(),e.scheduleOnce((function(){I.instance.reqBet()}),t)}()}},c.doEndFree=function(){var t=this.Node_free.getChildByName("Node_end");t.active=!0,t.getComponent(N).opacity=0,t.getChildByName("Label_freeTimes").getComponent(p).string=""+z.instance.totalFreeTimesBack;var e=t.getChildByName("Label_totalWin");e.getComponent(p).string="";var n=t.getComponent(_.Skeleton);this.Node_freeInfo.active=!1,n.setAnimation(0,"intro",!1),n.addAnimation(0,"idle",!0),this.Node_public.active=!1,this.scheduleOnce((function(){e.scale=g(1,1,1),D.instance.updateLabelAddNf(e.getComponent(p),z.instance.totalFreeWin)}),.5),b(t.getComponent(N)).to(.1,{opacity:255}).start(),this.scheduleOnce(this.setEndFree,.2),U.instance.pauseMusic(),D.instance.playSound(F.freeEndMain,!0),this.scheduleOnce((function(){D.instance.stopSound(F.freeEndMain),D.instance.playSound(F.freeEnd,!1)}),3.052),this.scheduleOnce(this.hideFree,8)},c.onCatNumMove=function(t){void 0===t&&(t=260),this.Label_curRate.active&&this.Label_curRate.getPosition().y!=t&&b(this.Label_curRate).to(.25,{position:g(this.Label_curRate.position.x,t),scale:g(1,1,1)}).start()},c.setRateState=function(t,e,n){void 0===t&&(t=!0),void 0===e&&(e=1),void 0===n&&(n=null);var i=t?C(0,0,0,255):C(255,255,255,255),o=t?C(200,200,200,150):C(255,255,255,255),a=t?g(.75,.75,.75):g(1,1,1);if(b(this.xn_light.getComponent(_.Skeleton)).to(.5,{color:i}).start(),b(this.Label_curRate.getComponent(p)).to(.5,{color:o}).start(),this.Label_curRate.getComponent(p).string="x"+e,e>parseInt(this.Label_curRate.getComponent(p).string.replace("x",""))&&D.instance.playOneShot(F.multiUp),n){var s=B(this.Label_curRate);this.Node_tipEffect.node.addChild(s),y.stopAllByTarget(s),s.getComponent(p).color=C(255,255,255,255);var r=this.Label_curRate.getComponent(v).convertToWorldSpaceAR(g(0));r=this.Node_tipEffect.node.getComponent(v).convertToNodeSpaceAR(r),s.position=r;var c=g(0,0,0);b(s).delay(.2).bezierTo(.5,r,g((r.x+c.x)/2+50,(r.y+c.y)/2+200,0),c).call(n).to(.3,{scale:g(2.5,2.5,2.5)}).delay(.1).removeSelf().start(),b(s.getComponent(N)).delay(.6).to(.25,{opacity:0}).start();e>1&&D.instance.playOneShot(["sound/prizeSmallwinMultiplied","sound/prizeSmallwinMultipliedVox1","sound/prizeSmallwinMultipliedVox2","sound/prizeSmallwinMultipliedVox3"][e-1])}b(this.Label_curRate).to(.25,{scale:a}).start(),e>1?this.xn_light.getComponent(_.Skeleton).setAnimation(0,"win",!0):this.xn_light.getComponent(_.Skeleton).setAnimation(0,"idle",!0)},c.updateGold=function(){var t=D.instance.moneyFormat(z.instance.curBalance);t!=this.Label_gold.string&&D.instance.updateLabel(this.Label_gold,t)},c.updateViewInfo=function(){var t=this;if(z.instance.gameInfo){var e=z.instance.gameInfo.OpenNums[z.instance.gameInfo.OpenNums.length-1],n=e.openNum;this.setWays(e);for(var i=0;i<this.Coaster_symbolList.length;i++){var o=n[i];this.Coaster_symbolList[i].init(o)}this.scheduleOnce((function(){t.Button_run.interactable=!0}),1),this.Label_bet.string=D.instance.curBetFormat(z.instance.curBet),this.Label_curRate.getComponent(p).string="x"+(e.odds>0?e.odds:1);var a=0;if(z.instance.totalFreeTimes>0)a=z.instance.totalFreeWin,this.showFree(!0);else for(var s=z.instance.gameInfo.OpenNums,r=0;r<s.length;r++){var c=s[r];c.prizeAmount>0&&(a+=c.prizeAmount)}if(a>0)this.Node_helpTip.active=!1,this.Node_winTip.active=!0,this.Node_winTip.getComponent(P).doShow(a,2),D.instance.updateLabelAddNf(this.Label_win,a);this.Button_redus.interactable=z.instance.curBet>this.betMin,this.Button_add.interactable=z.instance.curBet<this.betMax,this.Button_buy.getComponent(N).opacity=this.Button_buy.interactable?255:100,this.Button_redus.node.getComponent(N).opacity=this.Button_redus.interactable?255:100,this.Button_add.node.getComponent(N).opacity=this.Button_add.interactable?255:100,this.Button_menu.node.getComponent(N).opacity=this.Button_menu.interactable?255:100,this.Button_auto.node.getComponent(N).opacity=this.Button_auto.interactable?255:100;var u=D.instance.getIndexByBaseBet(z.instance.curBet);z.instance._curIndex_baseScore=u[0],z.instance._curIndex_baseRate=u[1],z.instance._curIndex_baseBet=u[2]}},c.updateView=function(t,e){switch(t){case O.HD_info:if(!this.isInit)return;this.updateViewInfo();break;case O.HD_History:break;case O.HD_BuyFree:this.Node_helpTip.getComponent(Y).doShow(3);case O.HD_Bet:this.doStartRun(),this.updateGold();break;case k.instance.protocolHall.getWallet:case k.instance.protocolHall.pushWallet:this.updateGold();break;case k.instance.protocolHall.login:q.closeNetTips(),q.closeWait(),this.gameShow()}},i}(S.BaseView),Ut=i(qt.prototype,"Node_mask_1_6",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Qt=i(qt.prototype,"Node_mask_7",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Yt=i(qt.prototype,"Node_mask_8",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Xt=i(qt.prototype,"Node_colEffect",[tt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),jt=i(qt.prototype,"Node_effectRoot",[et],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Zt=i(qt.prototype,"Node_helpTip",[nt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Jt=i(qt.prototype,"Node_winTip",[it],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Kt=i(qt.prototype,"Coaster_symbolList",[ot],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),$t=i(qt.prototype,"Node_action",[at],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),te=i(qt.prototype,"Node_menu",[st],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ee=i(qt.prototype,"Button_run",[rt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ne=i(qt.prototype,"Button_auto",[ct],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ie=i(qt.prototype,"Button_add",[ut],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),oe=i(qt.prototype,"Button_redus",[lt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ae=i(qt.prototype,"Label_autoTimes",[dt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),se=i(qt.prototype,"Button_menu",[pt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),re=i(qt.prototype,"Skeleton_run",[_t],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ce=i(qt.prototype,"Node_tipEffect",[mt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ue=i(qt.prototype,"Button_buy",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),le=i(qt.prototype,"Label_gold",[ft],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),de=i(qt.prototype,"Label_bet",[bt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pe=i(qt.prototype,"Label_win",[gt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_e=i(qt.prototype,"Label_way",[Nt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),me=i(qt.prototype,"Button_soundon",[yt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),he=i(qt.prototype,"Button_soundoff",[Bt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),fe=i(qt.prototype,"ic_soundoff_off",[vt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),be=i(qt.prototype,"free_bglight",[Ct],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ge=i(qt.prototype,"xn_light",[wt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ne=i(qt.prototype,"Label_curRate",[St],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ye=i(qt.prototype,"Node_free",[kt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Be=i(qt.prototype,"Node_bigWin",[Lt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ve=i(qt.prototype,"arrBgSpFrame",[Tt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ce=i(qt.prototype,"arrRoomSpFrame",[At],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),we=i(qt.prototype,"arrCenterSpFrame",[xt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Se=i(qt.prototype,"arrFishSpFrame",[Et],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ke=i(qt.prototype,"arrTipBgSpFrame",[Ft],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Le=i(qt.prototype,"arrDownSpFrame",[Wt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Te=i(qt.prototype,"Node_roomBg",[Ot],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ae=i(qt.prototype,"Sprite_bg",[Rt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),xe=i(qt.prototype,"Node_public",[zt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ee=i(qt.prototype,"Node_info",[It],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Fe=i(qt.prototype,"Label_totalWinBig",[Mt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),We=i(qt.prototype,"scatter_wait_root",[Dt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Oe=i(qt.prototype,"scatter_wait",[Pt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Re=i(qt.prototype,"Node_freeInfo",[Vt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ze=i(qt.prototype,"addFreeMask",[Gt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ht=qt))||Ht)||Ht));c._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/CoasterGame', 'chunks:///_virtual/CoasterGame'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});